webpackJsonp([0],[function(t,e,o){t.exports=o(3)},,,function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var i=o(4),n=a(i),r=o(5),s=a(r),c=o(92),l=a(c),d=o(113),p=a(d),u=o(118),f=a(u),m=o(123),h=a(m),g=o(151),b=a(g),v=o(18),x=a(v),y=o(158),k=a(y);n.default.component("app-header",s.default),n.default.component("layer-custom",l.default),n.default.component("layer-shopadmin",p.default),n.default.component("layer-coupon",f.default),n.default.component("layer-recharge",h.default),n.default.component("layer-msg",b.default),n.default.islogin=!0,k.default.afterEach(function(t){x.default.state.appLoading=!0,setTimeout(function(){x.default.state.appLoading=!1},100)});new n.default({created:function(){},store:x.default,el:"#main",router:k.default,data:{showShopAdminModal:!1,showCustomModal:!1,showCouponModal:!1,showRechargeModal:!1,showMsgModal:!1},watch:{},methods:{},mounted:function(){this.$router.push("/")}})},,function(t,e,o){var a,i,n={};o(6),a=o(10),i=o(91),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(7);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var o=this[e];o[2]?t.push("@media "+o[2]+"{"+o[1]+"}"):t.push(o[1])}return t.join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var n=this[i][0];"number"==typeof n&&(a[n]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&a[r[0]]||(o&&!r[2]?r[2]=o:o&&(r[2]="("+r[2]+") and ("+o+")"),t.push(r))}},t}},function(t,e,o){function a(t,e){for(var o=0;o<t.length;o++){var a=t[o],i=p[a.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](a.parts[n]);for(;n<a.parts.length;n++)i.parts.push(c(a.parts[n],e))}else{for(var r=[],n=0;n<a.parts.length;n++)r.push(c(a.parts[n],e));p[a.id]={id:a.id,refs:1,parts:r}}}}function i(t){for(var e=[],o={},a=0;a<t.length;a++){var i=t[a],n=i[0],r=i[1],s=i[2],c=i[3],l={css:r,media:s,sourceMap:c};o[n]?o[n].parts.push(l):e.push(o[n]={id:n,parts:[l]})}return e}function n(t,e){var o=m(),a=b[b.length-1];if("top"===t.insertAt)a?a.nextSibling?o.insertBefore(e,a.nextSibling):o.appendChild(e):o.insertBefore(e,o.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(e)}}function r(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",n(t,e),e}function c(t,e){var o,a,i;if(e.singleton){var n=g++;o=h||(h=s(e)),a=l.bind(null,o,n,!1),i=l.bind(null,o,n,!0)}else o=s(e),a=d.bind(null,o),i=function(){r(o)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else i()}}function l(t,e,o,a){var i=o?"":a.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var n=document.createTextNode(i),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(n,r[e]):t.appendChild(n)}}function d(t,e){var o=e.css,a=e.media,i=e.sourceMap;if(a&&t.setAttribute("media",a),i&&(o+="\n/*# sourceURL="+i.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var p={},u=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=u(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=u(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,g=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var o=i(t);return a(o,e),function(t){for(var n=[],r=0;r<o.length;r++){var s=o[r],c=p[s.id];c.refs--,n.push(c)}if(t){var l=i(t);a(l,e)}for(var r=0;r<n.length;r++){var c=n[r];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete p[c.id]}}}};var v=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(11),n=a(i),r=o(15),s=o(90),c=a(s);e.default={computed:{shopData:function(){return this.$store.state.shopData},pageList:function(){return this.$store.state.pageList},currentPage:function(){return this.$store.state.currentPage},member:function(){return this.$store.state.member},mode:function(){return this.$store.state.currentPage.mode}},data:function(){return{success:!0}},created:function(){var t=n.default.pullLocal("shopData");this.$store.commit("setShopData",t);var e=this.getLocalData();e&&e.length&&this.$store.commit("setPageList",e),this.pageList&&this.pageList.length||this.$store.commit("initPage")},methods:{addPage:function(){this.$store.commit("addPage",1),this.$router.replace("/"+this.mode),this.saveLocalData()},removePage:function(){var t=this;c.default.confirm("确定要删除吗？删除后数据将丢失！",function(e){t.$store.commit("removePage",1),c.default.close(e),t.$router.replace("/"+t.mode),t.saveLocalData()})},switchPage:function(t){this.$store.commit("switchPage",t),this.$router.replace("/"+this.mode),this.saveLocalData()},getLocalData:function(){return n.default.pullLocal("pageList")},saveLocalData:function(){n.default.pushLocal("pageList",this.pageList)},msg:function(){return!1},exit:function(){var t=this;c.default.confirm("确定要退出吗？",function(e){var o={url:r.API_URLS.log_out};r.request.fnGet(t,o,function(e){c.default.closeAll(),n.default.delLocal("accessToken"),n.default.delLocal("shopData"),n.default.delLocal("pageList"),t.saveLocalData(),location.href="./login.html"})})}},mounted:function(){}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=' <div class=header> <div class=container-fluid> <div class=logo> <a class=navbar-brand><img src=/images/logo.jpg alt=Brand></a> </div> <div class="header-nav navbar" id=header-nav> <div class=staff>{{shopData.adminName}}</div> <div class=navbar-header> <button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=.navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> </div> <div class="navbar-collapse collapse" role=navigation> <ul class="nav navbar-nav"> <template v-if=item v-for="item in pageList"> <li><a class=custom :class="{cur: currentPage && (currentPage.pageIndex == item.pageIndex)}" @click=switchPage(item.pageIndex)><span class=num>{{item.title}}</span><span class=time>{{item.time}}</span></a></li> </template> </ul> <a class=custom-add @click=addPage()>+</a> <a class=custom-remove @click=removePage()>-</a> <div class=menu-box> <a class=msg-btn @click=msg()> 消息 </a> <a class=exit-btn @click=exit()> <i class="icon icon-exit"></i> 退出 </a> </div> </div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(93),a=o(95),i=o(112),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(94);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,'/*!custom modale*/.custom-layer{border-bottom:3px solid #93d6b3;padding:10px 30px}.custom-layer .modal-header{border-bottom:3px solid #6fc89c}.custom-layer .modal-header .close{margin-top:-20px}.custom-layer .modal-body{padding:30px}.custom-layer .custom-table-header{width:100%;height:auto}.custom-layer .custom-table-body{height:auto;margin-top:10px;padding:20px 30px;border:1px dashed #999;border-radius:5px}.custom-layer .custom-table-body .normal{height:250px;background:url("/images/awyp.jpg") 50% 50% no-repeat}.custom-layer .custom-table-foot{margin-top:10px}.custom-layer .custom-table-foot .btn-default{padding:5px 20px}.custom-layer .add-custom{width:72px;height:36px;display:inline-block;background:url("/images/add_custom.png") no-repeat;cursor:pointer;border-radius:0}.custom-layer .cancel-custom,.custom-layer .select-ticket{width:72px;height:36px;cursor:pointer;text-align:center;border-radius:20px;display:inline-block}.custom-layer .cancel-custom{background:#999;color:#fff}.custom-layer .searchCustom button{border-top-left-radius:30px!important;border-bottom-left-radius:30px!important}.custom-layer .searchCustom input{border-top-right-radius:30px!important;border-bottom-right-radius:30px!important}.custom-layer .registration .custom-sex{padding:10px 20px}.custom-layer .registration .custom-sex .radio{position:relative;margin:0 20px;display:inline-block}.custom-layer .registration .custom-sex .radio>input{position:absolute;top:0;left:0;opacity:0;margin-left:0}.custom-layer .registration .custom-sex .radio>label{margin-left:0;padding-left:0;width:90px;height:90px}.custom-layer .registration .man-radio.radio label{background:url("/images/man.png") 50% 50% no-repeat}.custom-layer .registration .women-radio.radio label{background:url("/images/women.png") 50% 50% no-repeat}.custom-layer .registration .man-radio.radio input:checked+label{background:url("/images/man_check.png") 50% 50% no-repeat}.custom-layer .registration .women-radio.radio input:checked+label{background:url("/images/women_check.png") 50% 50% no-repeat}.custom-layer .custom-member{color:#999;margin-top:-20px}.custom-layer .custom-member .custom-name,.custom-layer .custom-member .custom-phone{margin-top:10px;margin-bottom:10px}.custom-layer .custom-member .custom-layer .custom-phone .input-group-addon,.custom-layer .custom-member .custom-name .input-group-addon{background:0 0}.custom-layer .custom-member .row{margin-top:20px}.custom-layer .custom-member .sex-photo{width:70px;height:70px;display:block;float:left;border-radius:50%;overflow:hidden}.custom-layer .custom-member .sex-photo.male{background:url("/images/man_check.png") 50% 50% no-repeat;background-size:100%}.custom-layer .custom-member .sex-photo.female{background:url("/images/women_check.png") 50% 50% no-repeat;background-size:100%}.custom-layer .custom-member .col-xs-12{padding-left:30px}.custom-layer .custom-member .nickname{line-height:70px;font-size:1.5rem;display:block;float:left}.custom-layer .custom-member span{padding-left:30px}.custom-layer .custom-ticket{height:auto;color:#333}.custom-layer .custom-ticket .custom-ticket-header{padding-bottom:20px;padding-left:60px}.custom-layer .custom-ticket .custom-ticket-body{height:300px;overflow-x:hidden}.custom-layer .custom-ticket .custom-ticket-body ul{list-style:none;padding:0}.custom-layer .custom-ticket .custom-ticket-body li{width:80%;height:90px;display:block;border:2px solid #e8e9f1;border-radius:5px;margin:10px auto 0;font-size:.8rem}.custom-layer .custom-ticket .custom-ticket-body li:first-child{margin-top:0}.custom-layer .custom-ticket .custom-ticket-body li .left{width:33%;height:100%;background:#e8e9f1;position:relative;float:left}.custom-layer .custom-ticket .custom-ticket-body li .right{width:66%;height:100%;position:relative;float:left;background:#fff;padding:10px 20px}.custom-layer .custom-ticket .custom-ticket-body li .left .m{position:absolute;font-size:2rem;left:20px;top:10px}.custom-layer .custom-ticket .custom-ticket-body li .left .u{position:absolute;left:30px;top:60px}.custom-layer .custom-ticket .custom-ticket-body li .left .m:before{content:"\\A5";font-size:1rem}.custom-layer .custom-ticket .custom-ticket-body li .right span{margin-top:5px;display:block}.custom-layer .custom-ticket .custom-ticket-body li .right em{font-style:normal}.custom-layer .line{width:113%;background:#e84593;height:1px;margin-top:15px;margin-bottom:15px;margin-left:-30px;position:relative}.custom-layer .line>span{font-size:2rem;display:block;position:absolute;left:20px;top:-5px}.custom-layer .custom-group{margin:10px 0}',""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(96),n=a(i),r=o(107),s=a(r),c=o(90),l=a(c),d=o(15);e.default={data:function(){return{searchShow:!0,registerShow:!1,infoShow:!1,username:"",tempcustom:""}},computed:{custom:function(){return this.$store.state.currentPage.customData}},components:{CustomSearch:n.default,CustomRegister:s.default},created:function(){this.custom.id&&(this.infoShow=!0,this.searchShow=!0,this.registerShow=!1,this.tempcustom={appMember:this.custom})},methods:{registerView:function(){this.registerShow===!0?(this.searchShow=!0,this.registerShow=!1):(this.searchShow=!1,this.registerShow=!0,this.username="")},doSearch:function(){var t=this;if(this.searchShow=!0,this.registerShow=!1,t.username){var e={url:d.API_URLS.customers,data:{username:t.username}};d.request.fnGet(t,e,function(e){t.tempcustom=e,t.infoShow=!0},function(e){t.tempcustom=e,t.infoShow=!1})}else l.default.msg("请输入手机号码")},chooseThis:function(){var t=this;t.$store.commit("setCustomData",t.tempcustom.appMember),$("#layer-custom").modal("toggle")}}}},function(t,e,o){var a,i,n={};o(97),a=o(99),i=o(106),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(98);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(100),n=a(i),r=o(105);a(r);e.default={name:"CustomSearch",data:function(){return{msg:""}},components:{CustomInfo:n.default},computed:{},props:["custom","infoShow"],methods:{}}},function(t,e,o){var a,i,n={};o(101),a=o(103),i=o(104),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(102);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"CustomInfo",props:["member"],data:function(){return{msg:""}},computed:{},filters:{couponType:function(t){return"fullReduce"===t?"满减劵":"fullBack"===t?"满返劵":""}}}},function(t,e){t.exports=' <div class=normal v-if="!member || !member.id"> <p class="text-center bg-warning">没有找到此会员</p> </div> <div class=info v-else> <div class=custom-member> <div class=row> <div class="col-xs-12 col-sm-12 clearfix"> <em class=sex-photo><img v-show=member.headPortrait :src=member.headPortrait /></em> <span class=nickname>{{member.nickname}}</span> </div> </div> <div class=row> <div class="col-xs-12 col-sm-6">手机号<span>{{member.username}}</span></div> <div class="col-xs-12 col-sm-6">积分<span>{{member.point}}</span></div> </div> <div class=row> <div class="col-xs-12 col-sm-6">余额 <span>{{member.balance}}</span></div> </div> </div> <div class=line><span class="primary glyphicon glyphicon-tag"></span></div> <div class=custom-ticket> <div class=custom-ticket-header>优惠券</div> <div class=custom-ticket-body> <div class=text-center v-if="!member.appCoupons || !member.appCoupons.length">暂无优惠券</div> <ul> <li v-for="coupon in member.appCoupons"> <div class=left> <span class=m>{{coupon.amount}}</span> <span class=u>满{{coupon.conditionLine}}可用</span> </div> <div class=right> <span style="color: #cccccc">有效期 <em class=primary>{{coupon.endDate}}</em> </span> <span class=l2>{{coupon.toSbName}}</span> <span class="l3 primary">{{coupon.type | couponType}}</span> </div> </li> </ul> </div> </div> </div> '},function(t,e){t.exports=window.jQuery},function(t,e){t.exports=' <div class=custom-search> <div class=custom-table-header> <div class=row> <div class="col-xs-5 col-xs-offset-3"> <div class="input-group searchCustom"> <span class=input-group-btn><button class="btn btn-default" @click=$parent.doSearch><span class="glyphicon glyphicon-search"></span></button> </span> <input type=text v-model=$parent.username class=form-control @keyup.enter=$parent.doSearch placeholder=搜索顾客> </div> </div> <div class=col-xs-4> <a v-if=$parent.searchShow class="btn add-custom" @click=$parent.registerView></a> <a v-else class="btn cancel-custom" @click=$parent.registerView>取消</a> <a class="btn select-ticket btn-lightgreen" v-show="$parent.searchShow && custom && custom.appMember && custom.appMember.id" @click=$parent.chooseThis>选择</a> </div> </div> </div> <div class=custom-table-body v-show=$parent.searchShow> <div class=normal v-if=!infoShow> </div> <custom-info v-else :member=custom.appMember></custom-info> </div> </div> '},function(t,e,o){var a,i,n={};o(108),a=o(110),i=o(111),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(109);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(15),n=o(90),r=a(n);e.default={name:"CustomRegister",data:function(){return{searchName:"",newCustom:{phone:"",name:"",sex:""}}},created:function(){},methods:{doRegister:function(){var t=this;if(!this.newCustom.name)return void r.default.tips("姓名不能为空","#name");if(!this.newCustom.phone)return void r.default.tips("手机号码不能为空","#phone");if(!this.newCustom.sex)return void r.default.msg("请选择性别");if(!/\d{11}/.test(this.newCustom.phone))return void r.default.tips("手机号码不正确","#phone");var e={url:i.API_URLS.customers,data:this.newCustom};i.request.fnPost(this,e,function(e){r.default.msg("保存成功"),t.$parent.custom=e,t.$parent.chooseThis()},function(t){r.default.msg(t.msg)})}}}},function(t,e){t.exports=' <div class=custom-register> <div class=custom-table-body> <div class=registration> <div class=row> <div class="col-xs-8 col-xs-offset-2"> <div class="custom-sex clearfix text-center"> <div class="man-radio radio"> <input type=radio name=sex value=male id=custom-man v-model=newCustom.sex /> <label for=custom-man></label> </div> <div class="women-radio radio"> <input type=radio name=sex id=custom-women value=female v-model=newCustom.sex> <label for=custom-women></label> </div> </div> <div class="input-group custom-name custom-group"> <span class=input-group-addon><i class="iconfont icon-guanliyuan"></i></span> <input type=text class=form-control placeholder=姓名 id=name v-model=newCustom.name> </div> <div class="input-group custom-phone custom-group"> <span class=input-group-addon><i class="iconfont icon-mobilefill"></i></span> <input type=num class=form-control placeholder=手机号 maxlength=11 id=phone v-model=newCustom.phone @keyup.enter=doRegister> </div> <a class="btn btn-lightgreen btn-block" @click=doRegister>保存</a> </div> </div> </div> </div> </div> '},function(t,e){t.exports=' <div role=dialog class="modal fade custom-layer" id=layer-custom> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>顾客</h4> <a class=close data-dismiss=modal>&times;</a> </div> <div class=modal-body> <custom-search :custom=tempcustom :info-show=infoShow></custom-search> <custom-register v-show=registerShow></custom-register> </div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(114),a=o(116),i=o(117),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(115);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"/*!showAdmin modale*/.showAdmin-layer{border-bottom:3px solid #93d6b3;padding:10px 30px}.showAdmin-layer .modal-dialog{width:400px}.showAdmin-layer .modal-header{border-bottom:3px solid #6fc89c}.showAdmin-layer .modal-header .close{margin-top:-20px}.showAdmin-layer .modal-body{padding:30px}.showAdmin-layer .modal-body .shop-admin-list{clear:both}.showAdmin-layer .modal-body .shop-admin-list .btn-shopadmin{padding:10px 30px;border:1px solid #999;color:#999}.showAdmin-layer .modal-body .shop-admin-list .btn-shopadmin.cur,.showAdmin-layer .modal-body .shop-admin-list .btn-shopadmin:hover{background:#6fc89c;color:#fff}.showAdmin-layer .modal-body .shop-admin-list ul{height:160px;overflow-x:hidden;padding:0;margin:0}.showAdmin-layer .modal-body .shop-admin-list li{width:40%;float:left;margin:15px}.showAdmin-layer .modal-foot{border-top:1px dashed #e5e5e5;padding:10px 0;text-align:center}.showAdmin-layer .modal-foot .showAdmin-layer-close{display:inline-block;background:#6fc89c;color:#fff;padding:10px 50px}",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(15),n=o(105),r=a(n);e.default={name:"showAdminWin",data:function(){return{shopAdminIndex:null,type:"GUIDER",keyword:"",listData:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e={url:i.API_URLS.shop_admins+"/"+this.type,data:{keyword:this.keyword}};i.request.fnGet(this,e,function(e){t.listData=e.list},function(t){alert("获取失败")})},checkShopAdmin:function(){var t=this.listData[this.shopAdminIndex];this.$store.commit("setShopAdminData",t),this.$store.commit("setOrderParams",{guiderId:t.id});var e="#layer-showAdmin";(0,r.default)(e).modal("hide")}}}},function(t,e){t.exports=' <div role=dialog class="modal fade showAdmin-layer" id=layer-showAdmin> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class="modal-title text-center">选择导购员</h4> <a class=close data-dismiss=modal>&times;</a> </div> <div class=modal-body> <div class=shop-admin-list> <p class=text-center v-if=!listData>加载中</p> <p class=text-center v-else-if="listData.length==0">没有相关数据</p> <ul class=cleafix v-else> <li v-for="(item,index) in listData"> <a class="btn btn-shopadmin" :class="{\'cur\':shopAdminIndex==index}" @click="shopAdminIndex=index">{{item.name}}</a> </li> </ul> </div> </div> <div class=modal-foot> <a class="btn btn-default showAdmin-layer-close" @click=checkShopAdmin>确认</a> </div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(119),a=o(121),i=o(122),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(120);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,'/*!Coupon modale*/.coupon-layer{border-bottom:3px solid #93d6b3;padding:10px 30px}.coupon-layer .modal-header{border-bottom:3px solid #6fc89c}.coupon-layer .modal-header .close{margin-top:-20px}.coupon-layer .modal-body{padding:30px}.coupon-layer .custom-ticket-body{height:300px;overflow-x:hidden}.coupon-layer .custom-ticket-body ul{list-style:none;padding:0}.coupon-layer .custom-ticket-body li{width:80%;height:90px;display:block;border:2px solid #e8e9f1;border-radius:5px;margin:10px auto 0;font-size:.8rem}.coupon-layer .custom-ticket-body li:first-child{margin-top:0}.coupon-layer .custom-ticket-body li .left{width:33%;height:100%;background:#e8e9f1;position:relative;float:left}.coupon-layer .custom-ticket-body li .right{width:66%;height:100%;position:relative;float:left;background:#fff;padding:10px 20px}.coupon-layer .custom-ticket-body li .left .m{position:absolute;font-size:2rem;left:20px;top:10px}.coupon-layer .custom-ticket-body li .left .u{position:absolute;left:30px;top:60px}.coupon-layer .custom-ticket-body li .left .m:before{content:"\\A5";font-size:1rem}.coupon-layer .custom-ticket-body li .right span{margin-top:5px;display:block}.coupon-layer .custom-ticket-body li .right em{font-style:normal}.coupon-layer .custom-ticket-body li.on{border:1px solid red}',""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(90);a(i),o(15);e.default={mounted:function(){},data:function(){return{list:[]}},computed:{couponList:function(){return this.$store.state.currentPage.orderData.canChooseCouponCodes},currentId:function(){return this.$store.state.currentPage.orderData.couponCodeId}},methods:{chooseThis:function(t){this.$store.commit("setOrderParams",{couponCodeId:t}),$("#layer-coupon").modal("toggle")}},filters:{couponType:function(t){return"fullReduce"===t?"满减劵":"fullBack"===t?"满返劵":""}}}},function(t,e){t.exports=' <div role=dialog class="modal fade coupon-layer" id=layer-coupon> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>优惠券</h4> <a class=close data-dismiss=modal>&times;</a> </div> <div class=modal-body @click=chooseThis()> 选择优惠券 </div> <div class=custom-ticket-body> <div class=text-center v-if="!couponList || !couponList.length">暂无优惠券</div> <ul> <template v-for="coupon in couponList"> <li :class="currentId == coupon.id ? \'on\' : \'\'" @click=chooseThis(coupon.id)> <div class=left> <span class=m>{{coupon.amount}}</span> <span class=u>满{{coupon.conditionLine}}可用</span> </div> <div class=right> <span style="color: #cccccc">有效期 <em class=primary>{{coupon.endDate}}</em> </span> <span class=l2>{{coupon.toSbName}}</span> <span class="l3 primary">{{coupon.type | couponType}}</span> </div> </li> </template> </ul> </div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(124),a=o(126),i=o(150),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(125);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"/*!Recharge modale*/.recharge-layer{border-bottom:3px solid #93d6b3;padding:10px 30px}.recharge-layer .modal-dialog{width:768px}.recharge-layer .modal-header{border-bottom:3px solid #6fc89c;text-align:center}.recharge-layer .modal-header .close{margin-top:-20px}.recharge-layer .modal-body{padding:30px}.recharge-layer .modal-body .recharge-menu .btn{color:#666;padding:15px;position:relative;border-color:#ccc;border-radius:5px;background:#f0eeef;margin-top:15px;margin-bottom:30px;font-size:14px}.recharge-layer .modal-body .recharge-menu .btn span{margin-right:20px}.recharge-layer .modal-body .recharge-menu .btn.on,.recharge-layer .modal-body .recharge-menu .btn:hover{background-color:#6fc89c;color:#fff}.recharge-layer .modal-body .tab-con{border-bottom:1px dashed #e5e5e5;border-width:2px;min-height:260px;display:none;position:relative}.recharge-layer .modal-body .tab-con.tabShow{display:block}.recharge-layer .modal-body .tab-con.tabShow .pay-amount{color:#e84593;font-size:30px;line-height:40px}.recharge-layer .modal-body .tab-con.tabShow .pay-gift-amount,.recharge-layer .modal-body .tab-con.tabShow .pay-tips{color:#e84593;margin-top:10px;font-size:16px}.recharge-layer .modal-body .tab-con.tabShow .txt{color:#999;line-height:20px}.recharge-layer .modal-body .list-box{padding-bottom:0;border-bottom:1px dashed #e5e5e5;border-width:2px}.recharge-layer .modal-body .list-box table{border:none}.recharge-layer .modal-body .list-box table td,.recharge-layer .modal-body .list-box table th{width:25%;text-align:center;border:none;font-size:14px;padding:4px;line-height:30px}.recharge-layer .modal-body .list-box table tbody tr{background:#6fc89c;color:#fff}.recharge-layer .modal-body .list-box table tbody tr td:nth-child(2) span{background:#fff;color:#6fc89c;width:90%;display:inline-block;border-radius:4px}.recharge-layer .modal-body .list-box table tbody tr td:nth-child(3){background:#b998cd;color:#fff}.recharge-layer .modal-body .calc-box{padding-top:15px;padding-bottom:30px}.recharge-layer .modal-body .calc-box ul{width:180px;background:#eee;border-left:1px solid #ccc;border-top:1px solid #ccc;margin:0;padding:0}.recharge-layer .modal-body .calc-box ul li{box-sizing:border-box;border-right:1px solid #ccc;border-bottom:1px solid #ccc;width:33%;height:60px;line-height:60px;font-size:16px;float:left}.recharge-layer .modal-foot{border-top:1px dashed #e5e5e5;padding:10px 0;text-align:center}.recharge-layer .modal-foot .recharge-layer-ok{background:#6fc89c;color:#fff}.recharge-layer .modal-foot .recharge-layer-cancel,.recharge-layer .modal-foot .recharge-layer-ok{display:inline-block;padding:10px 50px;margin:0 20px}",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(127),n=a(i),r=o(132),s=a(r),c=o(140),l=a(c),d=o(145),p=a(d),u=o(90),f=a(u),m=o(105),h=a(m),g=o(15);e.default={mounted:function(){},data:function(){return{title:"充值",message:"请选择一个充值方式",amount:0,giftAmount:0,diySeleted:!1,payMethod:null}},computed:{custom:function(){return this.$store.state.currentPage.customData},order:function(){return this.$store.state.currentPage.orderData},shopAdminData:function(){return this.$store.state.currentPage.shopAdminData},printData:function(){var t=this.$store.state.currentPage.printData,e=new Date,o=e.toLocaleDateString(),a=e.toLocaleTimeString();return t.cashierName=this.order.cashierName,t.guiderName=this.shopAdminData.cashierName,t.DateTime=o+" "+a,t}},components:{RechargeList:n.default,PayCard:s.default,PayMoney:l.default,PayScan:p.default},methods:{choseAmount:function(){this.payMethod=null},payScan:function(){this.payMethod=12},payMoney:function(){this.payMethod=10},payCard:function(){this.payMethod=11},closeRechargeModal:function(){var t="#layer-recharge";(0,h.default)(t).modal("hide")},toPrint:function(){var t={url:g.API_URLS.recharge,data:{phone:this.custom.username,amount:this.amount,paymentMethodId:this.payMethod}},e=this;g.request.fnPost(this,t,function(t){e.$store.commit("setPrintData",t.appOrderPayment),e.$nextTick(function(){(0,h.default)("#qrcCode").html(""),t.appOrderPayment.wechatCodeUrl&&(0,h.default)("#qrcCode").qrcode({render:"table",text:t.appOrderPayment.wechatCodeUrl,width:260,height:260}),e.printPage()})})},rechargePrint:function(){if(null==this.payMethod)return f.default.msg("请选择充值方式",{icon:2}),!1;if(this.amount<=0)return f.default.msg("请选择充值金额",{icon:2}),!1;var t=this;f.default.confirm("确认打印吗？",{btn:["确定"]},function(e){t.toPrint(),f.default.close(e)})},printPage:function(){var t=document.getElementById("printDiv"),e=t.innerHTML,o=window.open("./print.html","_blank"),a=document.getElementById("styles").innerHTML,i='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><title>打印</title><style type="text/css">'+a+"</style></head><body>",n="</body></html>";
e=i+e+n,o.document.write(e),o.print(),o.document.close(),o.close()}}}},function(t,e,o){var a,i,n={};o(128),a=o(130),i=o(131),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(129);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,'.col-nn-15[_v-65688116]{width:33%}.col-nn-15[_v-65688116],.col-nn-25[_v-65688116]{float:left;padding-left:8px;padding-right:7px;margin:10px 0}.col-nn-25[_v-65688116]{width:50%}.rechargelist[_v-65688116]{float:left;width:100%}.rechargelist .rechargelist-btn[_v-65688116]{font-size:18px;color:#666;padding:10px;border-color:#ccc;border-radius:5px;background:#fff}.rechargelist .rechargelist-btn.select[_v-65688116],.rechargelist .rechargelist-btn[_v-65688116]:active{color:#666;padding:10px;border-color:#e84593;border-radius:5px;background:#fff}.rechargelist .rechargelist-btn span[_v-65688116]{display:block;position:relative}.rechargelist .rechargelist-btn em[_v-65688116]{display:block;color:#e84593;font-size:14px;line-height:30px}.rechargelist .rechargelist-btn em.dis[_v-65688116]{opacity:.5}.rechargelist .rechargelist-btn.diy input[_v-65688116]{width:80%;text-align:right}.rechargelist .rechargelist-btn.diy span[_v-65688116]:after{content:"";display:block;width:100%;background:#999;height:1px}.rechargelist .rechargelist-btn.select span[_v-65688116]:after{background:#e84593}',""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(15);e.default={name:"RechargeList",props:["amount","message","giftAmount","diySeleted"],data:function(){return{activityList:[{baseline:null},{baseline:null},{baseline:null},{baseline:null},{baseline:null}],selectAmount:"",diyamountSeleted:!1,diyamount:"",diyamountGift:{}}},computed:{rechargeMain:function(){return this.$parent}},created:function(){this.selectAmount=this.amount,this.diyamount=this.amount,this.amountActivityList()},methods:{chooseAmount:function(t){t?(this.selectAmount=t.baseline,this.diyamountSeleted=!1,this.rechargeMain.amount=this.selectAmount,t.amount?this.rechargeMain.giftAmount="赠送 ¥ "+t.amount:this.rechargeMain.giftAmount="无赠送活动"):this.diyamount&&(this.selectAmount="",this.diyamountSeleted=!0)},amountActivityList:function(){var t=this,e=t.diyamountSeleted,o={url:a.API_URLS.recharge,data:{amount:e?t.diyamount:""}};a.request.fnGet(t,o,function(o){console.log(o),e&&o.list&&o.list.length?(t.diyamountGift=o.list[0],t.rechargeMain.amount=t.diyamount,t.rechargeMain.giftAmount="赠送 ¥"+t.diyamountGift.amount):t.activityList=o.list})},changeDiy:function(){this.selectAmount=0,this.diyamountSeleted=!0,this.amountActivityList()}}}},function(t,e){t.exports=' <div class="rechargelist clearfix" _v-65688116=""> <div class=row _v-65688116=""> <p v-if=!activityList _v-65688116="">加载中...</p> <p v-else-if="activityList.length==0" _v-65688116="">没有活动</p> <div v-else="" class=col-nn-15 v-for="activity in activityList" _v-65688116=""> <a class="btn btn-default btn-block rechargelist-btn" :class="{select:selectAmount == activity.baseline}" @click=chooseAmount(activity) _v-65688116=""> <span _v-65688116="">¥ {{activity.baseline}}</span> <em v-if=activity.amount _v-65688116="">赠 ¥{{activity.amount}}</em> <em v-else="" class=dis _v-65688116="">无赠送活动</em> </a> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(133),a=o(135),i=o(139),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(134);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(136),n=a(i);e.default={props:["message","amount","giftAmount","showShopAdminBtn"],components:{shopAdminBtn:n.default}}},function(t,e,o){var a,i,n={};a=o(137),i=o(138),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(15),o(105)),n=a(i);e.default={name:"showAdminBtn",computed:{shopAdminData:function(){return this.$store.state.currentPage.shopAdminData},shopAdminName:function(){return this.$store.state.currentPage.shopAdminData.name?this.$store.state.currentPage.shopAdminData.name:"选择导购员"}},methods:{showShopAdminModal:function(){function t(){(0,n.default)(this).each(function(t){var e=(0,n.default)(this).clone().css("display","block").appendTo("body"),o=Math.round((e.height()-e.find(".modal-content").height())/2);o=o>0?o:0,e.remove(),(0,n.default)(this).find(".modal-content").css("margin-top",o)})}this.$root.showShopAdminModal=!0,this.$nextTick(function(){var e="#layer-showAdmin";(0,n.default)(e).on("show.bs.modal",t),(0,n.default)(e).modal({backdrop:"static",keyboard:!1,show:!1}),(0,n.default)(window).on("resize",function(e){return t}),(0,n.default)(e).modal("toggle")})}}}},function(t,e){t.exports=' <div class=shopAdminBox> <a class="btn btn-block btn-default addShopAdmin-btn" @click=showShopAdminModal> <span class="iconfont icon-gouwucheman" aria-hidden=true> {{shopAdminName}}</span> </a> </div> '},function(t,e){t.exports=' <div class="tab-con tab-con-2 text-center tabShow"> <h1 class=pay-amount>￥ {{amount}}</h1> <p class=pay-gift-amount v-if=giftAmount>{{giftAmount}}</p> <p class=txt>请对准POS机进行刷卡验证,成功后打印收据</p> <shop-admin-btn v-show=showShopAdminBtn></shop-admin-btn> </div> '},function(t,e,o){var a,i,n={};o(141),a=o(143),i=o(144),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(142);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,".rmb{background:#fff;color:#6fc89c}",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(136),n=a(i);e.default={props:["message","amount","giftAmount","showShopAdminBtn"],data:function(){return{rmb:0}},computed:{mode:function(){return this.$store.state.currentPage.mode},cash:function(){var t=this.rmb-this.amount;return t<0&&(t=0),this.$store.commit("setOrderParams",{rmb:this.rmb,cash:t}),this.$store.state.currentPage.orderParams.cash}},components:{shopAdminBtn:n.default},methods:{calc:function(t){var e=this.rmb;if(isNaN(t))switch(t){case"x":var o=this.rmb+"";this.rmb=o.substring(0,o.length-1),this.rmb||(this.rmb=0);break;case".":var o=this.rmb+".";this.rmb=o}else e?this.rmb+=t+"":this.rmb=t}}}},function(t,e){t.exports=' <div class="tab-con tab-con-1 text-center tabShow"> <h1 class=pay-amount>￥ {{amount}}</h1> <p class=pay-gift-amount v-if=giftAmount>{{giftAmount}}</p> <div class=list-box> <table class=table> <thead> <tr> <th>价格</th> <th>付款</th> <th>找零</th> <th>支付方式</th> </tr> </thead> <tbody class=text-left> <tr> <td>{{amount}}</td> <td><span class=rmb>{{rmb}}</span></td> <td>{{cash}}</td> <td>现金</td> </tr> </tbody> </table> </div> <div class=calc-box> <ul class=clearfix> <li @click=calc(1);>1</li> <li @click=calc(2);>2</li> <li @click=calc(3);>3</li> <li @click=calc(4);>4</li> <li @click=calc(5);>5</li> <li @click=calc(6);>6</li> <li @click=calc(7);>7</li> <li @click=calc(8);>8</li> <li @click=calc(9);>9</li> <li @click="calc(\'.\');">.</li> <li @click=calc(0);>0</li> <li @click="calc(\'x\');">X</li> </ul> </div> <shop-admin-btn v-show=showShopAdminBtn></shop-admin-btn> </div> '},function(t,e,o){var a,i,n={};o(146),a=o(148),i=o(149),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(147);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(136),n=a(i);e.default={props:["message","amount","giftAmount","showShopAdminBtn"],components:{shopAdminBtn:n.default}}},function(t,e){t.exports=' <div class="tab-con tab-con-0 text-center tabShow"> <h1 class=pay-amount>￥ {{amount}}</h1> <p class=pay-gift-amount v-if=giftAmount>{{giftAmount}}</p> <p class=txt>请打印收据后 扫描收据上的二维码</p> <shop-admin-btn v-show=showShopAdminBtn></shop-admin-btn> </div> '},function(t,e){t.exports=' <div role=dialog class="modal fade recharge-layer" id=layer-recharge> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>充值</h4> <a class=close data-dismiss=modal>&times;</a> </div> <div class=modal-body> <div class=row> <div class="col-nn-30 left-con"> <div class=recharge-menu> <a class="btn btn-default scan-btn btn-block" :class="{on:payMethod==12}" @click=payScan><span class="iconfont icon-qr2" aria-hidden=true></span> 扫码</a> <a class="btn btn-default scan-btn btn-block" :class="{on:payMethod==10}" @click=payMoney><span class="iconfont icon-icon" aria-hidden=true></span>现金</a> <a class="btn btn-default scan-btn btn-block" :class="{on:payMethod==11}" @click=payCard><span class="iconfont icon-xinyongqiahuankuan" aria-hidden=true></span>刷卡</a> </div> </div> <div class="col-nn-70 right-con"> <recharge-list :amount=amount :gift-amount=giftAmount :message=message></recharge-list> </div> </div> </div> <div class=modal-foot> <a class="btn btn-default recharge-layer-ok" @click=rechargePrint>确定</a> <a class="btn btn-default recharge-layer-cancel" @click=closeRechargeModal>取消</a> </div> </div> </div> <div class=printDiv id=printDiv style="position:absolute; display: none;  pointer-events: none; width: 320px; font-size:12px;   z-index:9999; left: 0; top:0; background: #ffffff"> <div class="print-box show"> <table class=printtable> <caption class=text-left> <h5>{{printData.DateTime}}</h5> <h5>订单号 {{printData.sn}}</h5> </caption> <tbody> <tr> <td colspan=2 class="text-left block">阿喔优品公司</td> </tr> <tr v-show=printData.cashierName> <td colspan=2 class="text-left block">营业员：{{printData.cashierName}}</td> </tr> <tr v-show=printData.customer> <td colspan=2 class="text-left block">顾客：{{printData.customer}}</td> </tr> <tr v-show=printData.guiderName> <td colspan=2 class="text-left block">导购员：{{printData.guiderName}}</td> </tr> <tr class=split> <td>充值</td> <td>¥ {{printData.amount}}</td> </tr> <tr class=split> <td>返利</td> <td>¥ {{printData.giftAmount}}</td> </tr> <tr class=split> <td>付款方式</td> <td>{{printData.paymentName}}</td> </tr> </tbody> </table> <p class=text-center v-if=printData.wechatCodeUrl>请微信扫码付款</p> <div id=qrcCode></div> </div> </div> <div style="display: none" id=styles> *{padding:0; margin:0;} .print-box {width: 260px; padding:100px 15px; margin:0 auto; font-size: 16px; } .print-box h5{font-size: 18px; line-height:30px;} .print-box table.printtable{ width: 100%; display: block;position: relative; line-height: 24px; font-family:\'黑体\' } .print-box table.printtable tbody,.print-box table.printtable caption{display: block; font-size: 18px;} .print-box table.printtable .strong{font-weight: bold; font-size: 16px;} .print-box table.printtable .split{ } .print-box table.printtable tr{ display:block;clear: left;} .print-box table.printtable:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0;} .print-box table.printtable{*zoom:1;} .print-box table.printtable td:last-child{display: block; width: 40%;float: left; position: relative; text-align: right;} .print-box table.printtable td:first-child{display: block; width: 60%;float: left; position: relative;} .print-box table.printtable span:last-child{display: inline-block; width:20%; float:right; } .print-box table.printtable span:first-child{display: inline-block; width:80%; float: left;} .print-box table.printtable td.block{width:100% !important; clear:both; text-align:center; } .print-box .text-center {text-align: center !important;} .print-box .text-right {text-align: right !important;} .print-box .text-left {text-align: left !important;} .print-box p {margin-top:10px;} .print-box #qrcCode{ margin-left:0px; margin-top:10px; } </div> </div> '},function(t,e,o){var a,i,n={};o(152),o(154),a=o(156),i=o(157),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(153);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){var a=o(155);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,".msg-pop{position:absolute;top:40px;right:4%;width:424px;height:auto;background:#fff;z-index:9999;border:1px solid #ddd;border-radius:3px;padding:12px;color:#333}.msg-pop .msg-pop-close{right:0;top:0;position:absolute}.msg-pop h3{color:#e84593;margin:0;font-size:18px;line-height:30px;width:85%}.msg-pop em{position:absolute;right:20px;top:45px}.msg-pop p{width:85%;color:#333}.msg-pop .c{height:80px;line-height:20px;overflow:hidden}.msg-pop .r{text-align:right}.msg-pop .btn-agree{border:1px solid #6fc89c;color:#6fc89c}.msg-pop .btn-agree,.msg-pop .btn-refuse{position:relative;display:inline;margin-right:12px;margin-left:12px}.msg-pop .btn-refuse{border:1px solid #e84593;color:#e84593}",""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(15);e.default={name:"MsgPop",data:function(){return{}},watch:{},methods:{fetchList:function(){if(this.searchItem.keyword){var t=this,e={url:a.API_URLS.products,data:{categoryId:t.productParams.categoryId,brandId:t.productParams.brandId,pageNum:1,keyword:t.searchItem.keyword}};a.request.fnGet(t,e,function(e){t.$store.commit("setProductParams",{searchStr:t.searchItem.keyword,pageNum:1}),t.$store.commit("setPageData",e.page)})}},closeMsg:function(){this.$root.showMsgModal=!1}}}},function(t,e){t.exports=' <div class=msg-pop> <a class="btn msg-pop-close" @click=closeMsg>&times;</a> <h3>某某商铺申请调拨</h3> <div class=c> <p>xxxx商品xxxx商品 3段 900gxxxx商品 3段 900g</p> </div> <span>数量 55</span> <div class=r> <a class="btn btn-agree">同意</a> <a class="btn btn-refuse">拒绝</a> </div> </div> '},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(4),n=a(i),r=o(159),s=a(r),c=o(161),l=a(c),d=o(216),p=a(d),u=o(254),f=a(u),m=o(259),h=a(m),g=o(145),b=a(g),v=o(132),x=a(v),y=o(140),k=a(y),w=o(262),_=a(w),P=o(267),D=a(P);n.default.use(s.default);var $=new s.default({routes:[{path:"/",component:l.default},{path:"/index",redirect:"/"},{path:"/message",name:"MsgCenter",component:f.default},{path:"/appCenter",alias:["/order","/recharge","/print"],name:"AppCenter",component:p.default,children:[{path:"/order/",name:"OrderDefault",component:h.default},{path:"/recharge/",name:"RechargeDefault",component:_.default},{path:"/scan",name:"PayScan",component:b.default},{path:"/card",name:"PayCard",component:x.default},{path:"/money",name:"PayMoney",component:k.default}]},{path:"*",name:"404",component:D.default}],scrollBehavior:function(t,e,o){return{x:0,y:0}}});e.default=$},function(t,e,o){(function(e){/**
	  * vue-router v2.2.1
	  * (c) 2017 Evan You
	  * @license MIT
	  */
"use strict";function o(t,e){if(!t)throw new Error("[vue-router] "+e)}function a(t,e){t||"undefined"!=typeof console&&console.warn("[vue-router] "+e)}function i(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:a(!1,'props in "'+t.path+'" is a '+typeof e+", expecting an object, function or boolean.")}}function n(t,o){if(void 0===o&&(o={}),t){var i;try{i=r(t)}catch(t){"production"!==e.env.NODE_ENV&&a(!1,t.message),i={}}for(var n in o)i[n]=o[n];return i}return o}function r(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var o=t.replace(/\+/g," ").split("="),a=Ot(o.shift()),i=o.length>0?Ot(o.join("=")):null;void 0===e[a]?e[a]=i:Array.isArray(e[a])?e[a].push(i):e[a]=[e[a],i]}),e):e}function s(t){var e=t?Object.keys(t).map(function(e){var o=t[e];if(void 0===o)return"";if(null===o)return St(e);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(t){void 0!==t&&(null===t?a.push(St(e)):a.push(St(e)+"="+St(t)))}),a.join("&")}return St(e)+"="+St(o)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}function c(t,e,o){var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:e.query||{},params:e.params||{},fullPath:d(e),matched:t?l(t):[]};return o&&(a.redirectedFrom=d(o)),Object.freeze(a)}function l(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function d(t){var e=t.path,o=t.query;void 0===o&&(o={});var a=t.hash;return void 0===a&&(a=""),(e||"/")+s(o)+a}function p(t,e){return e===Lt?t===e:!!e&&(t.path&&e.path?t.path.replace(Et,"")===e.path.replace(Et,"")&&t.hash===e.hash&&u(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&u(t.query,e.query)&&u(t.params,e.params)))}function u(t,e){void 0===t&&(t={}),void 0===e&&(e={});var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every(function(o){return String(t[o])===String(e[o])})}function f(t,e){return 0===t.path.replace(Et,"/").indexOf(e.path.replace(Et,"/"))&&(!e.hash||t.hash===e.hash)&&m(t.query,e.query)}function m(t,e){for(var o in e)if(!(o in t))return!1;return!0}function h(t){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.target&&t.target.getAttribute){var e=t.target.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function g(t){if(t)for(var e,o=0;o<t.length;o++){if(e=t[o],"a"===e.tag)return e;if(e.children&&(e=g(e.children)))return e}}function b(t){if(!b.installed){b.installed=!0,$t=t,Object.defineProperty(t.prototype,"$router",{get:function(){return this.$root._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this.$root._route}}),t.mixin({beforeCreate:function(){this.$options.router&&(this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current))}}),t.component("router-view",Mt),t.component("router-link",Rt);var e=t.config.optionMergeStrategies;e.beforeRouteEnter=e.beforeRouteLeave=e.created}}function v(t,e,o){if("/"===t.charAt(0))return t;if("?"===t.charAt(0)||"#"===t.charAt(0))return e+t;var a=e.split("/");o&&a[a.length-1]||a.pop();for(var i=t.replace(/^\//,"").split("/"),n=0;n<i.length;n++){var r=i[n];"."!==r&&(".."===r?a.pop():a.push(r))}return""!==a[0]&&a.unshift(""),a.join("/")}function x(t){var e="",o="",a=t.indexOf("#");a>=0&&(e=t.slice(a),t=t.slice(0,a));var i=t.indexOf("?");return i>=0&&(o=t.slice(i+1),t=t.slice(0,i)),{path:t,query:o,hash:e}}function y(t){return t.replace(/\/\//g,"/")}function k(t,e,o){var a=e||Object.create(null),i=o||Object.create(null);return t.forEach(function(t){w(a,i,t)}),{pathMap:a,nameMap:i}}function w(t,i,n,r,s){var c=n.path,l=n.name;"production"!==e.env.NODE_ENV&&(o(null!=c,'"path" is required in a route configuration.'),o("string"!=typeof n.component,'route config "component" for path: '+String(c||l)+" cannot be a string id. Use an actual component instead."));var d={path:_(c,r),components:n.components||{default:n.component},instances:{},name:l,parent:r,matchAs:s,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&("production"!==e.env.NODE_ENV&&n.name&&n.children.some(function(t){return/^\/?$/.test(t.path)})&&a(!1,"Named Route '"+n.name+"' has a default child route. When navigating to this named route (:to=\"{name: '"+n.name+"'\"), the default child route will not be rendered. Remove the name from this route and use the name of the default child route for named links instead."),n.children.forEach(function(e){var o=s?y(s+"/"+e.path):void 0;w(t,i,e,d,o)})),void 0!==n.alias)if(Array.isArray(n.alias))n.alias.forEach(function(e){var o={path:e,children:n.children};w(t,i,o,r,d.path)});else{var p={path:n.alias,children:n.children};w(t,i,p,r,d.path)}t[d.path]||(t[d.path]=d),l&&(i[l]?"production"===e.env.NODE_ENV||s||a(!1,'Duplicate named routes definition: { name: "'+l+'", path: "'+d.path+'" }'):i[l]=d)}function _(t,e){return t=t.replace(/\/$/,""),"/"===t[0]?t:null==e?t:y(e.path+"/"+t)}function P(t,e){for(var o,a=[],i=0,n=0,r="",s=e&&e.delimiter||"/";null!=(o=Ft.exec(t));){var c=o[0],l=o[1],d=o.index;if(r+=t.slice(n,d),n=d+c.length,l)r+=l[1];else{var p=t[n],u=o[2],f=o[3],m=o[4],h=o[5],g=o[6],b=o[7];r&&(a.push(r),r="");var v=null!=u&&null!=p&&p!==u,x="+"===g||"*"===g,y="?"===g||"*"===g,k=o[2]||s,w=m||h;a.push({name:f||i++,prefix:u||"",delimiter:k,optional:y,repeat:x,partial:v,asterisk:!!b,pattern:w?I(w):b?".*":"[^"+A(k)+"]+?"})}}return n<t.length&&(r+=t.substr(n)),r&&a.push(r),a}function D(t,e){return C(P(t,e))}function $(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function M(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function C(t){for(var e=new Array(t.length),o=0;o<t.length;o++)"object"==typeof t[o]&&(e[o]=new RegExp("^(?:"+t[o].pattern+")$"));return function(o,a){for(var i="",n=o||{},r=a||{},s=r.pretty?$:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!=typeof l){var d,p=n[l.name];if(null==p){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(zt(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<p.length;u++){if(d=s(p[u]),!e[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===u?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?M(p):s(p),!e[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');i+=l.prefix+d}}else i+=l}return i}}function A(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function I(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function S(t,e){return t.keys=e,t}function O(t){return t.sensitive?"":"i"}function E(t,e){var o=t.source.match(/\((?!\?)/g);if(o)for(var a=0;a<o.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return S(t,e)}function L(t,e,o){for(var a=[],i=0;i<t.length;i++)a.push(R(t[i],e,o).source);var n=new RegExp("(?:"+a.join("|")+")",O(o));return S(n,e)}function j(t,e,o){return T(P(t,o),e,o)}function T(t,e,o){zt(e)||(o=e||o,e=[]),o=o||{};for(var a=o.strict,i=o.end!==!1,n="",r=0;r<t.length;r++){var s=t[r];if("string"==typeof s)n+=A(s);else{var c=A(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+c+l+")*"),l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",n+=l}}var d=A(o.delimiter||"/"),p=n.slice(-d.length)===d;return a||(n=(p?n.slice(0,-d.length):n)+"(?:"+d+"(?=$))?"),n+=i?"$":a&&p?"":"(?="+d+"|$)",S(new RegExp("^"+n,O(o)),e)}function R(t,e,o){return zt(e)||(o=e||o,e=[]),o=o||{},t instanceof RegExp?E(t,e):zt(t)?L(t,e,o):j(t,e,o)}function N(t){var e,o,a=Qt[t];return a?(e=a.keys,o=a.regexp):(e=[],o=Bt(t,e),Qt[t]={keys:e,regexp:o}),{keys:e,regexp:o}}function q(t,o,i){try{var n=Jt[t]||(Jt[t]=Bt.compile(t));return n(o||{},{pretty:!0})}catch(t){return"production"!==e.env.NODE_ENV&&a(!1,"missing param for "+i+": "+t.message),""}}function z(t,o,i){var r="string"==typeof t?{path:t}:t;if(r.name||r._normalized)return r;if(!r.path&&r.params&&o){r=B({},r),r._normalized=!0;var s=B(B({},o.params),r.params);if(o.name)r.name=o.name,r.params=s;else if(o.matched){var c=o.matched[o.matched.length-1].path;r.path=q(c,s,"path "+o.path)}else"production"!==e.env.NODE_ENV&&a(!1,"relative params navigation requires a current route.");return r}var l=x(r.path||""),d=o&&o.path||"/",p=l.path?v(l.path,d,i||r.append):o&&o.path||"/",u=n(l.query,r.query),f=r.hash||l.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:p,query:u,hash:f}}function B(t,e){for(var o in e)t[o]=e[o];return t}function U(t){function i(t){k(t,p,u)}function n(t,o,i){var n=z(t,o),r=n.name;if(r){var s=u[r];"production"!==e.env.NODE_ENV&&a(s,"Route with name '"+r+"' does not exist");var c=N(s.path).keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof n.params&&(n.params={}),o&&"object"==typeof o.params)for(var d in o.params)!(d in n.params)&&c.indexOf(d)>-1&&(n.params[d]=o.params[d]);if(s)return n.path=q(s.path,n.params,'named route "'+r+'"'),l(s,n,i)}else if(n.path){n.params={};for(var f in p)if(G(f,n.params,n.path))return l(p[f],n,i)}return l(null,n)}function r(t,i){var r=t.redirect,s="function"==typeof r?r(c(t,i)):r;if("string"==typeof s&&(s={path:s}),!s||"object"!=typeof s)return"production"!==e.env.NODE_ENV&&a(!1,"invalid redirect option: "+JSON.stringify(s)),l(null,i);var d=s,p=d.name,f=d.path,m=i.query,h=i.hash,g=i.params;if(m=d.hasOwnProperty("query")?d.query:m,h=d.hasOwnProperty("hash")?d.hash:h,g=d.hasOwnProperty("params")?d.params:g,p){var b=u[p];return"production"!==e.env.NODE_ENV&&o(b,'redirect failed: named route "'+p+'" not found.'),n({_normalized:!0,name:p,query:m,hash:h,params:g},void 0,i)}if(f){var v=V(f,t),x=q(v,g,'redirect route with path "'+v+'"');return n({_normalized:!0,path:x,query:m,hash:h},void 0,i)}return a(!1,"invalid redirect option: "+JSON.stringify(s)),l(null,i)}function s(t,e,o){var a=q(o,e.params,'aliased route with path "'+o+'"'),i=n({_normalized:!0,path:a});if(i){var r=i.matched,s=r[r.length-1];return e.params=i.params,l(s,e)}return l(null,e)}function l(t,e,o){return t&&t.redirect?r(t,o||e):t&&t.matchAs?s(t,e,t.matchAs):c(t,e,o)}var d=k(t),p=d.pathMap,u=d.nameMap;return{match:n,addRoutes:i}}function G(t,e,o){var a=N(t),i=a.regexp,n=a.keys,r=o.match(i);if(!r)return!1;if(!e)return!0;for(var s=1,c=r.length;s<c;++s){var l=n[s-1],d="string"==typeof r[s]?decodeURIComponent(r[s]):r[s];l&&(e[l.name]=d)}return!0}function V(t,e){return v(t,e.parent?e.parent.path:"/",!0)}function H(){window.addEventListener("popstate",function(t){Q(),t.state&&t.state.key&&et(t.state.key)})}function F(t,a,i,n){if(t.app){var r=t.options.scrollBehavior;r&&("production"!==e.env.NODE_ENV&&o("function"==typeof r,"scrollBehavior must be a function"),t.app.$nextTick(function(){var t=J(),e=r(a,i,n?t:null);if(e){var o="object"==typeof e;if(o&&"string"==typeof e.selector){var s=document.querySelector(e.selector);s?t=Y(s):W(e)&&(t=K(e))}else o&&W(e)&&(t=K(e));t&&window.scrollTo(t.x,t.y)}}))}}function Q(){var t=tt();t&&(Yt[t]={x:window.pageXOffset,y:window.pageYOffset})}function J(){var t=tt();if(t)return Yt[t]}function Y(t){var e=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{x:o.left-e.left,y:o.top-e.top}}function W(t){return X(t.x)||X(t.y)}function K(t){return{x:X(t.x)?t.x:window.pageXOffset,y:X(t.y)?t.y:window.pageYOffset}}function X(t){return"number"==typeof t}function Z(){return Kt.now().toFixed(3)}function tt(){return Xt}function et(t){Xt=t}function ot(t,e){Q();var o=window.history;try{e?o.replaceState({key:Xt},"",t):(Xt=Z(),o.pushState({key:Xt},"",t))}catch(o){window.location[e?"replace":"assign"](t)}}function at(t){ot(t,!0)}function it(t,e,o){var a=function(i){i>=t.length?o():t[i]?e(t[i],function(){a(i+1)}):a(i+1)};a(0)}function nt(t){if(!t)if(Nt){var e=document.querySelector("base");t=e?e.getAttribute("href"):"/"}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function rt(t,e){var o,a=Math.max(t.length,e.length);for(o=0;o<a&&t[o]===e[o];o++);return{updated:e.slice(0,o),activated:e.slice(o),deactivated:t.slice(o)}}function st(t,e,o,a){var i=gt(t,function(t,a,i,n){var r=ct(t,e);if(r)return Array.isArray(r)?r.map(function(t){return o(t,a,i,n)}):o(r,a,i,n)});return bt(a?i.reverse():i)}function ct(t,e){return"function"!=typeof t&&(t=$t.extend(t)),t.options[e]}function lt(t){return st(t,"beforeRouteLeave",pt,!0)}function dt(t){return st(t,"beforeRouteUpdate",pt)}function pt(t,e){return function(){return t.apply(e,arguments)}}function ut(t,e,o){return st(t,"beforeRouteEnter",function(t,a,i,n){return ft(t,i,n,e,o)})}function ft(t,e,o,a,i){return function(n,r,s){return t(n,r,function(t){s(t),"function"==typeof t&&a.push(function(){mt(t,e.instances,o,i)})})}}function mt(t,e,o,a){e[o]?t(e[o]):a()&&setTimeout(function(){mt(t,e,o,a)},16)}function ht(t){return gt(t,function(t,e,o,i){if("function"==typeof t&&!t.options)return function(e,n,r){var s=vt(function(t){o.components[i]=t,r()}),c=vt(function(t){a(!1,"Failed to resolve async component "+i+": "+t),r(!1)}),l=t(s,c);l&&"function"==typeof l.then&&l.then(s,c)}})}function gt(t,e){return bt(t.map(function(t){return Object.keys(t.components).map(function(o){return e(t.components[o],t.instances[o],t,o)})}))}function bt(t){return Array.prototype.concat.apply([],t)}function vt(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}function xt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}function yt(t){var e=xt(t);if(!/^\/#/.test(e))return window.location.replace(y(t+"/#"+e)),!0}function kt(){var t=wt();return"/"===t.charAt(0)||(Pt("/"+t),!1)}function wt(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.slice(e+1)}function _t(t){window.location.hash=t}function Pt(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function Dt(t,e,o){var a="hash"===o?"#"+e:e;return t?y(t+"/"+a):a}var $t,Mt={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var o=e.props,a=e.children,n=e.parent,r=e.data;r.routerView=!0;for(var s=o.name,c=n.$route,l=n._routerViewCache||(n._routerViewCache={}),d=0,p=!1;n;)n.$vnode&&n.$vnode.data.routerView&&d++,n._inactive&&(p=!0),n=n.$parent;if(r.routerViewDepth=d,p)return t(l[s],r,a);var u=c.matched[d];if(!u)return l[s]=null,t();var f=l[s]=u.components[s],m=r.hook||(r.hook={});return m.init=function(t){u.instances[s]=t.child},m.prepatch=function(t,e){u.instances[s]=e.child},m.destroy=function(t){u.instances[s]===t.child&&(u.instances[s]=void 0)},r.props=i(c,u.props&&u.props[s]),t(f,r,a)}},Ct=/[!'()*]/g,At=function(t){return"%"+t.charCodeAt(0).toString(16)},It=/%2C/g,St=function(t){return encodeURIComponent(t).replace(Ct,At).replace(It,",")},Ot=decodeURIComponent,Et=/\/?$/,Lt=c(null,{path:"/"}),jt=[String,Object],Tt=[String,Array],Rt={name:"router-link",props:{to:{type:jt,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,event:{type:Tt,default:"click"}},render:function(t){var e=this,o=this.$router,a=this.$route,i=o.resolve(this.to,a,this.append),n=i.location,r=i.route,s=i.href,l={},d=this.activeClass||o.options.linkActiveClass||"router-link-active",u=n.path?c(null,n):r;l[d]=this.exact?p(a,u):f(a,u);var m=function(t){h(t)&&(e.replace?o.replace(n):o.push(n))},b={click:h};Array.isArray(this.event)?this.event.forEach(function(t){b[t]=m}):b[this.event]=m;var v={class:l};if("a"===this.tag)v.on=b,v.attrs={href:s};else{var x=g(this.$slots.default);if(x){x.isStatic=!1;var y=$t.util.extend,k=x.data=y({},x.data);k.on=b;var w=x.data.attrs=y({},x.data.attrs);w.href=s}else v.on=b}return t(this.tag,v,this.$slots.default)}},Nt="undefined"!=typeof window,qt=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},zt=qt,Bt=R,Ut=P,Gt=D,Vt=C,Ht=T,Ft=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");Bt.parse=Ut,Bt.compile=Gt,Bt.tokensToFunction=Vt,Bt.tokensToRegExp=Ht;var Qt=Object.create(null),Jt=Object.create(null),Yt=Object.create(null),Wt=Nt&&function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}(),Kt=Nt&&window.performance&&window.performance.now?window.performance:Date,Xt=Z(),Zt=function(t,e){this.router=t,this.base=nt(e),this.current=Lt,this.pending=null,this.ready=!1,this.readyCbs=[]};Zt.prototype.listen=function(t){this.cb=t},Zt.prototype.onReady=function(t){this.ready?t():this.readyCbs.push(t)},Zt.prototype.transitionTo=function(t,e,o){var a=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){a.updateRoute(i),e&&e(i),a.ensureURL(),a.ready||(a.ready=!0,a.readyCbs.forEach(function(t){t(i)}))},o)},Zt.prototype.confirmTransition=function(t,e,o){var a=this,i=this.current,n=function(){o&&o()};if(p(t,i)&&t.matched.length===i.matched.length)return this.ensureURL(),n();var r=rt(this.current.matched,t.matched),s=r.updated,c=r.deactivated,l=r.activated,d=[].concat(lt(c),this.router.beforeHooks,dt(s),l.map(function(t){return t.beforeEnter}),ht(l));this.pending=t;var u=function(e,o){return a.pending!==t?n():void e(t,i,function(t){t===!1?(a.ensureURL(!0),n()):"string"==typeof t||"object"==typeof t?("object"==typeof t&&t.replace?a.replace(t):a.push(t),n()):o(t)})};it(d,u,function(){var o=[],i=function(){return a.current===t},r=ut(l,o,i);it(r,u,function(){return a.pending!==t?n():(a.pending=null,e(t),void(a.router.app&&a.router.app.$nextTick(function(){o.forEach(function(t){return t()})})))})})},Zt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(o){o&&o(t,e)})};var te=function(t){function e(e,o){var a=this;t.call(this,e,o);var i=e.options.scrollBehavior;i&&H(),window.addEventListener("popstate",function(t){a.transitionTo(xt(a.base),function(t){i&&F(e,t,a.current,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,o){var a=this;this.transitionTo(t,function(t){ot(y(a.base+t.fullPath)),F(a.router,t,a.current,!1),e&&e(t)},o)},e.prototype.replace=function(t,e,o){var a=this;this.transitionTo(t,function(t){at(y(a.base+t.fullPath)),F(a.router,t,a.current,!1),e&&e(t)},o)},e.prototype.ensureURL=function(t){if(xt(this.base)!==this.current.fullPath){var e=y(this.base+this.current.fullPath);t?ot(e):at(e)}},e.prototype.getCurrentLocation=function(){return xt(this.base)},e}(Zt),ee=function(t){function e(e,o,a){t.call(this,e,o),a&&yt(this.base)||kt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;window.addEventListener("hashchange",function(){kt()&&t.transitionTo(wt(),function(t){Pt(t.fullPath)})})},e.prototype.push=function(t,e,o){this.transitionTo(t,function(t){_t(t.fullPath),e&&e(t)},o)},e.prototype.replace=function(t,e,o){this.transitionTo(t,function(t){Pt(t.fullPath),e&&e(t)},o)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;wt()!==e&&(t?_t(e):Pt(e))},e.prototype.getCurrentLocation=function(){return wt()},e}(Zt),oe=function(t){function e(e,o){t.call(this,e,o),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,o){var a=this;this.transitionTo(t,function(t){a.stack=a.stack.slice(0,a.index+1).concat(t),a.index++,e&&e(t)},o)},e.prototype.replace=function(t,e,o){var a=this;this.transitionTo(t,function(t){a.stack=a.stack.slice(0,a.index).concat(t),e&&e(t)},o)},e.prototype.go=function(t){var e=this,o=this.index+t;if(!(o<0||o>=this.stack.length)){var a=this.stack[o];this.confirmTransition(a,function(){e.index=o,e.updateRoute(a)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Zt),ae=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.afterHooks=[],this.matcher=U(t.routes||[]);var a=t.mode||"hash";switch(this.fallback="history"===a&&!Wt,this.fallback&&(a="hash"),Nt||(a="abstract"),this.mode=a,a){case"history":this.history=new te(this,t.base);break;case"hash":this.history=new ee(this,t.base,this.fallback);break;case"abstract":this.history=new oe(this,t.base);break;default:"production"!==e.env.NODE_ENV&&o(!1,"invalid mode: "+a)}},ie={currentRoute:{}};ae.prototype.match=function(t,e,o){return this.matcher.match(t,e,o)},ie.currentRoute.get=function(){return this.history&&this.history.current},ae.prototype.init=function(t){var a=this;if("production"!==e.env.NODE_ENV&&o(b.installed,"not installed. Make sure to call `Vue.use(VueRouter)` before creating root instance."),this.apps.push(t),!this.app){this.app=t;var i=this.history;if(i instanceof te)i.transitionTo(i.getCurrentLocation());else if(i instanceof ee){var n=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen(function(t){a.apps.forEach(function(e){e._route=t})})}},ae.prototype.beforeEach=function(t){this.beforeHooks.push(t)},ae.prototype.afterEach=function(t){this.afterHooks.push(t)},ae.prototype.onReady=function(t){this.history.onReady(t)},ae.prototype.push=function(t,e,o){this.history.push(t,e,o)},ae.prototype.replace=function(t,e,o){this.history.replace(t,e,o)},ae.prototype.go=function(t){this.history.go(t)},ae.prototype.back=function(){this.go(-1)},ae.prototype.forward=function(){this.go(1)},ae.prototype.getMatchedComponents=function(t){var e=t?this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},ae.prototype.resolve=function(t,e,o){var a=z(t,e||this.history.current,o),i=this.match(a,e),n=i.redirectedFrom||i.fullPath,r=this.history.base,s=Dt(r,n,this.mode);return{location:a,route:i,href:s,normalizedTo:a,resolved:i}},ae.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Lt&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ae.prototype,ie),ae.install=b,ae.version="2.2.1",Nt&&window.Vue&&window.Vue.use(ae),t.exports=ae}).call(e,o(160))},function(t,e){function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(t){if(d===setTimeout)return setTimeout(t,0);if((d===o||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function n(t){if(p===clearTimeout)return clearTimeout(t);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function r(){h&&f&&(h=!1,f.length?m=f.concat(m):g=-1,m.length&&s())}function s(){if(!h){var t=i(r);h=!0;for(var e=m.length;e;){for(f=m,m=[];++g<e;)f&&f[g].run();g=-1,e=m.length}f=null,h=!1,n(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var d,p,u=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:o}catch(t){d=o}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(t){p=a}}();var f,m=[],h=!1,g=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];m.push(new c(t,e)),1!==m.length||h||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,o){var a,i,n={};o(162),a=o(164),i=o(215),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(163);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(83),n=a(i),r=o(12),s=a(r),c=o(165),l=a(c),d=o(170),p=a(d),u=o(175),f=a(u),m=o(180),h=a(m),g=o(185),b=a(g),v=o(190),x=a(v),y=o(195),k=a(y),w=o(200),_=a(w),P=o(205),D=a(P),M=o(210),C=a(M),A=o(90),I=a(A),S=o(11),O=a(S),E=o(15);e.default={name:"app",data:function(){return{pageSize:8,showCategory:!1,giftIndex:0,cartItemIndex:0,showStockItem:!1}},computed:{showlist:function(){return!!this.$store.state.pageData.list||(console.log(this),this.fetchList(),!1)},loading:function(){return this.$store.state.loading},productParams:function(){return this.$store.state.productParams},page:function(){return this.$store.state.pageData},productDetail:function(){return this.$store.state.itemData.appProductDetail},specifications:function(){return this.$store.state.itemData.appSpecifications},productCategories:function(){return this.$store.state.categoryData},cartData:function(){return this.$store.state.currentPage.cartData},customData:function(){return this.$store.state.currentPage.customData}},components:{cart:b.default,calc:x.default,Pagination:h.default,breadcrumb:l.default,category:f.default,ListItem:_.default,StockItem:D.default,ProductList:C.default,searchbar:p.default,Loading:k.default},methods:{fetchList:function(){var t=this,e={url:E.API_URLS.products,data:{categoryId:this.productParams.categoryId,brandId:this.productParams.brandId,pageNum:this.productParams.pageNum,searchStr:this.productParams.searchStr}};E.request.fnGet(this,e,function(e){t.$store.commit("setPageData",e.page)})},buildOrder:function(t){var e=this;console.log(t);var o={itemParams:[]};t.forEach(function(t,e){o.itemParams.push({productId:t.id,quantity:t.amount})});var a={giftIds:[]};t.forEach(function(t,e){t.appGiftItem&&a.giftIds.push({productId:t.appGiftItem.id,quantity:t.appGiftItem.amount})}),this.$store.commit("setOrderParams",{cartParam:(0,s.default)(o),giftIds:(0,s.default)(a),couponCodeId:null,usePoint:!1,useBalance:!1,memberId:this.customData.id,guiderId:null});var i={url:E.API_URLS.b2b_orders+"/build",data:this.$store.state.currentPage.orderParams};E.request.fnPost(this,i,function(t){e.$store.commit("setMode","order"),e.$store.commit("setOrderData",t.appOrderConfirmBean),e.$router.push("/order")})},openDetail:function(){var t=this,e=this.$store.state.itemData.appProductDetail,o=!!e.appGiftActivity,a=e.appSpecificationValues,i="";if(!o&&0==a.length){var r={};return(0,n.default)(r,e),r.selectDate=O.default.getSelectDate(),r.amount=1,this.pushCart(r),!1}t.$nextTick(function(){I.default.open({id:"layui-layer-item",type:1,shade:.01,anim:0,zIndex:1e3,closeBtn:2,title:!1,area:["auto","auto"],content:$("#layer-item-box"),success:function(){o&&(i=new Swiper(".gift-detail-item",{initialSlide:0,pagination:".gift-detail-item-pagination",paginationClickable:!0,spaceBetween:10,onInit:function(e){t.giftIndex=e.activeIndex}}),i.on("onSlideChangeEnd",function(e){$(".gift-detail-tab").find("a").removeClass("selected"),$(".gift-detail-tab").find("a").eq(e.activeIndex).addClass("selected"),t.giftIndex=e.activeIndex}),$(".gift-detail-tab").find("a").eq(0).addClass("selected"),$(".gift-detail-tab").find("a").on("click",function(){$(".gift-detail-tab").find("a").removeClass("selected"),i.slideTo($(this).index()),t.giftIndex=$(this).index()}))},end:function(){o&&(i.destroy(!0,!0),i=null,$(".gift-detail-tab").find("a").off().removeClass("selected"))}})})},closeDetail:function(t){I.default.closeAll(),this.pushCart(t)},openStock:function(t){return!1},closeStock:function(t){console.log(t),I.default.closeAll()},pushCart:function(t){var e=!1;if(this.cartData.length>0)for(var o in this.cartData)this.cartData[o].id==t.id&&(this.cartData[o].appGiftItem?this.cartData[o].appGiftItem.id==t.appGiftItem.id&&(this.cartData[o].amount++,e=!0):(this.cartData[o].amount++,e=!0));e||this.cartData.push(t)}},created:function(){},mounted:function(){}}},function(t,e,o){var a,i,n={};o(166),a=o(168),i=o(169),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(167);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(15);e.default={name:"breadcrumb",props:["productParams"],created:function(){},methods:{fetchCategory:function(t){}}}},function(t,e){t.exports=' <ol class=breadcrumb> <li> <span class="glyphicon glyphicon-home"></span> <a @click=fetchCategory(null)>首页</a> </li> <li v-show=productParams.categoryName> <a @click=fetchCategory(productParams.categoryId)> {{productParams.categoryName}}</a> </li> <li v-show=productParams.brandName> <a>{{productParams.brandName}}</a> </li> </ol> '},function(t,e,o){var a,i,n={};o(171),a=o(173),i=o(174),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(172);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(15);e.default={name:"searchbar",props:["productParams"],data:function(){return{searchItem:{searching:!1,keyword:""}}},watch:{},methods:{fetchList:function(){if(this.searchItem.keyword){var t=this,e={url:a.API_URLS.products,data:{categoryId:t.productParams.categoryId,brandId:t.productParams.brandId,pageNum:1,keyword:t.searchItem.keyword}};a.request.fnGet(t,e,function(e){t.$store.commit("setProductParams",{searchStr:t.searchItem.keyword,pageNum:1}),t.$store.commit("setPageData",e.page)})}}}}},function(t,e){t.exports=' <div class=searchbar> <div class=input-group> <input type=text class=form-control v-model=searchItem.keyword @keyup.enter=fetchList placeholder=条码/商品名称> <span class=input-group-btn> <button class="btn btn-default" @click=fetchList><span class="glyphicon glyphicon-search"></span></button> </span> </div> </div> '},function(t,e,o){var a,i,n={};o(176),a=o(178),i=o(179),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];
r.computed[t]=function(){return e}})},function(t,e,o){var a=o(177);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(15);e.default={name:"category",props:["showCategory","productCategories","productParams"],data:function(){return{cacheload:!1,showSubMenu:!1}},computed:{subCategory:function(){if(this.productCategories.length>0){var t=this.productCategories.filter(function(t){return null!=t.appTags});return t[0].appTags}return[]}},watch:{showCategory:function(t){t&&!this.cacheload&&(this.cacheload=!0,this.fetchCategory(null))}},methods:{outcheck:function(){var t=this,e=!0,o=function(){e=!1};document.querySelector(".category-list")&&(document.querySelector(".category-list").addEventListener("mouseover",o,!1),setTimeout(function(){e&&document.querySelector(".category-list")&&(document.querySelector(".category-list").addEventListener("mouseover",o,!1),t.$parent.showCategory=!1)},500))},fetchCategory:function(t,e){var o=this;t&&(this.showSubMenu=!0);var i={url:a.API_URLS.category,data:{productCategoryId:t}};a.request.fnGet(this,i,function(a){o.$store.commit("setProductParams",{categoryId:t,categoryName:e,brandId:null,brandName:null}),o.$store.commit("setCategoryData",a.appProductCategories)})},fetchAllBrand:function(){var t=this,e={url:a.API_URLS.products,data:{categoryId:null,brandId:null,pageNum:1,searchStr:null}};a.request.fnGet(this,e,function(e){t.$store.commit("setProductParams",{categoryId:null,categoryName:null,brandId:null,brandName:null}),t.$store.commit("setPageData",e.page),t.showSubMenu=!1,setTimeout(function(){t.$parent.showCategory=!1},300)})},fetchBrand:function(t,e){var o=this,i=this,n={url:a.API_URLS.products,data:{categoryId:i.productParams.categoryId,brandId:t,pageNum:1,searchStr:i.productParams.searchStr}};a.request.fnGet(this,n,function(a){o.$store.commit("setProductParams",{categoryId:i.productParams.categoryId,categoryName:i.productParams.categoryName,brandId:t,brandName:e,pageNum:1}),o.$store.commit("setPageData",a.page),o.$parent.showCategory=!1})}}}},function(t,e){t.exports=' <div class="categroy row" v-if=showCategory> <div class="col-xs-12 category-list clearfix" @mouseleave=outcheck> <div class=menu> <a class="sub all" :class={cur:!productParams.categoryId} href=javascript:void(0) @click=fetchAllBrand()>全部分类</a> <a class=sub href=javascript:void(0) :class="{cur:item.id==productParams.categoryId}" v-for="(item,index) in productCategories" @click=fetchCategory(item.id,item.name)>{{item.name}}</a> </div> <div class=sub-menu v-if=showSubMenu> <div v-show="!subCategory || !subCategory.length"><p> 数据加载中...</p></div> <div class=l v-for="(item,index) in subCategory"> <div class=l-t>{{item.name}}</div> <div class=l-c> <a class="btn btn-default sub-menu-category" :class="{cur:item2.id==productParams.brandId}" v-for="(item2,index2) in item.appBrands" @click=fetchBrand(item2.id,item2.name,subCategory.id,subCategory.name)>{{item2.name}}</a> </div> </div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(181),a=o(183),i=o(184),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(182);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(15);e.default={name:"Pagination",props:["page","productParams"],computed:{showPrev:function(){return 1!==this.page},prev:function(){return this.page-1}},methods:{pageTo:function(t){t!=this.page.pageNum&&(this.productParams.pageNum=t,this.fetchList())},fetchList:function(){var t=this,e={url:a.API_URLS.products,data:{categoryId:this.productParams.categoryId,brandId:this.productParams.brandId,pageNum:this.productParams.pageNum,searchStr:this.productParams.searchStr}};a.request.fnGet(this,e,function(e){t.$store.commit("setPageData",e.page)})}},mounted:function(){}}},function(t,e){t.exports=' <div class=page-bar _v-36cb508b=""> <ul class=pagination _v-36cb508b=""> <li _v-36cb508b=""><span class=pagination-label _v-36cb508b="">第 {{page.pageNum}} 页,共 {{page.pages}} 页</span></li> <li v-if=page.hasPreviousPage _v-36cb508b=""><a @click=pageTo(page.pageNum-1) _v-36cb508b="">上一页</a></li> <li v-for=" index in page.pages" :class="{active:index==productParams.pageNum}" @click=pageTo(index) _v-36cb508b=""><a _v-36cb508b="">{{ index }}</a></li> <li v-if=page.hasNextPage _v-36cb508b=""><a @click=pageTo(page.pageNum+1) _v-36cb508b="">下一页</a></li> </ul> </div> '},function(t,e,o){var a,i,n={};o(186),a=o(188),i=o(189),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(187);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(11),n=(a(i),o(105));a(n);e.default={name:"cart",filters:{currency:function(t){return t?"¥ "+t.toFixed(2):"¥ 0.00"},stocktips:function(t){return t.amount>t.stock?"库存不足":""}},props:["cartData","cartItemIndex"],created:function(){},computed:{totalprice:function(){var t=0;return this.cartData.forEach(function(e,o){t+=e.price*e.amount}),t}},methods:{setCartHeight:function(){var t=window.innerWidth,e=document.querySelector(".left-con").offsetHeight,o=document.querySelector(".shoppingCalc").offsetHeight;t>=768?(document.getElementById("#shoppingCart-list").style.display="block",document.getElementById("shoppingCart-list").style.height=e-o-140+"px"):document.getElementById("#shoppingCart-list").style.display="none"},checkCartItem:function(t){this.$parent.cartItemIndex=t},openStock:function(t){t&&this.$emit("open-stock",t)}}}},function(t,e){t.exports=' <div class=shoppingCart> <div class=shoppingCart-list id=shoppingCart-list :class="{empty:cartData.length==0}"> <ul> <li :class="{checked:index==cartItemIndex}" v-for="(item,index) in cartData " track-by=$index @click=checkCartItem(index);> <div class=shoppingCart-item> <p>{{item.title}}</p> <p class=small> <span>{{item.name}}</span> <span>{{item.selectDate}}</span> </p> <p class=small> <span>数量 :{{item.amount}} * 单价 {{item.price }}</span><span></span> <span class=tips @click=openStock(item)>{{item | stocktips}}</span> </p> <p class=total> <span v-if=item.appGiftItem>赠送：{{item.appGiftItem.name}}</span> <span>{{item.amount*item.price | currency }}</span> </p> </div> </li> </ul> </div> <div class=totalprice> 总价 <span class=primary>{{totalprice | currency }}</span> </div> </div> '},function(t,e,o){var a,i,n={};o(191),a=o(193),i=o(194),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(192);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(11),n=(a(i),o(105)),r=a(n);e.default={name:"calc",filters:{currency:function(t){return t?"¥ "+t.toFixed(2):""}},computed:{customName:function(){var t=this.$store.state.currentPage.customData;if(t.nickname)return t.nickname}},props:["cartData","cartItemIndex"],methods:{showCustomModal:function(){function t(){(0,r.default)(this).each(function(t){var e=(0,r.default)(this).clone().css("display","block").appendTo("body"),o=Math.round((e.height()-e.find(".modal-content").height())/2);o=o>0?o:0,e.remove(),(0,r.default)(this).find(".modal-content").css("margin-top",o)})}var e=this;this.$root.showCustomModal=!0,this.$nextTick(function(){var o="#layer-custom";(0,r.default)(o).on("show.bs.modal",t),(0,r.default)(o).on("hidden.bs.modal",function(){e.$root.showCustomModal=!1}),(0,r.default)(o).modal({backdrop:"static",keyboard:!1,show:!1}),(0,r.default)(window).on("resize",function(e){return t}),(0,r.default)(o).modal("toggle")})},calc:function(t){if(0!=this.cartData.length){var e=this.cartItemIndex,o=(this.cartData[e].price,this.cartData[e].amount);if(this.cartData[e].amountDiy||(o="",this.cartData[e].amountDiy=!0),isNaN(t))switch(t){case"qty":this.cartData[e].amount=1,this.cartData[e].amountDiy=!1;break;case"x":var a=o+"";o=a.substring(0,a.length-1),""==o?this.cartData.splice(e,1):this.cartData[e].amount=parseInt(o)}else o+=t+"",this.cartData[e].amount=parseInt(o)}},checkOrder:function(){this.cartData.length>0?this.$emit("trigger-build-order",this.cartData):alert("请先选择物品")}}}},function(t,e){t.exports=' <div class=shoppingCalc> <table class="table table-bordered"> <tbody> <tr> <td colspan=3 class=t1 @click=showCustomModal><span class="iconfont icon-guanliyuan"></span>{{customName}}</td> <td><a class="num-btn btn-default" @click=calc(1);>1</a></td> <td><a class="num-btn btn-default" @click=calc(2);>2</a></td> <td><a class="num-btn btn-default" @click=calc(3);>3</a></td> <td rowspan=3><a class="num-btn btn-lightgreen" style="" @click="calc(\'qty\');">QTY</a></td> </tr> <tr> <td colspan=3 rowspan=3 class=t1> <a class=settle-accounts-btn @click=checkOrder></a> </td> <td><a class="num-btn btn-default" @click=calc(4);>4</a></td> <td><a class="num-btn btn-default" @click=calc(5);>5</a></td> <td><a class="num-btn btn-default" @click=calc(6);>6</a></td> </tr> <tr> <td><a class="num-btn btn-default" @click=calc(7);>7</a></td> <td><a class="num-btn btn-default" @click=calc(8);>8</a></td> <td><a class="num-btn btn-default" @click=calc(9);>9</a></td> </tr> <tr> <td colspan=3><a class="num-btn btn-default" @click=calc(0);>0</a></td> <td><a class="num-btn btn-default" @click="calc(\'x\');">x</a></td> </tr> </tbody> </table> </div> '},function(t,e,o){var a,i,n={};o(196),a=o(198),i=o(199),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(197);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,".loadEffect[_v-38fd8dca]{width:100px;height:100px;position:absolute;margin:0 auto;top:50%;left:50%;margin-top:-50px;margin-left:-50px;-webkit-transform:scale(.5);transform:scale(.5);z-index:99}.loadEffect .ld-span[_v-38fd8dca]{display:inline-block;width:20px;height:20px;border-radius:50%;background:#67e7d5;position:absolute;-webkit-animation:load 1.04s ease infinite}@-webkit-keyframes load{0%{-webkit-transform:scale(1.2);opacity:1}to{-webkit-transform:scale(.3);opacity:.5}}.loadEffect .ld-span[_v-38fd8dca]:first-child{left:0;top:50%;margin-top:-10px;-webkit-animation-delay:.13s}.loadEffect .ld-span[_v-38fd8dca]:nth-child(2){left:14px;top:14px;-webkit-animation-delay:.26s}.loadEffect .ld-span[_v-38fd8dca]:nth-child(3){left:50%;top:0;margin-left:-10px;-webkit-animation-delay:.39s}.loadEffect .ld-span[_v-38fd8dca]:nth-child(4){top:14px;right:14px;-webkit-animation-delay:.52s}.loadEffect .ld-span[_v-38fd8dca]:nth-child(5){right:0;top:50%;margin-top:-10px;-webkit-animation-delay:.65s}.loadEffect .ld-span[_v-38fd8dca]:nth-child(6){right:14px;bottom:14px;-webkit-animation-delay:.78s}.loadEffect .ld-span[_v-38fd8dca]:nth-child(7){bottom:0;left:50%;margin-left:-10px;-webkit-animation-delay:.91s}.loadEffect .ld-span[_v-38fd8dca]:nth-child(8){bottom:14px;left:14px;-webkit-animation-delay:1.04s}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Loading"}},function(t,e){t.exports=' <div class=loadEffect _v-38fd8dca=""> <span class=ld-span _v-38fd8dca=""></span> <span class=ld-span _v-38fd8dca=""></span> <span class=ld-span _v-38fd8dca=""></span> <span class=ld-span _v-38fd8dca=""></span> <span class=ld-span _v-38fd8dca=""></span> <span class=ld-span _v-38fd8dca=""></span> <span class=ld-span _v-38fd8dca=""></span> <span class=ld-span _v-38fd8dca=""></span> </div> '},function(t,e,o){var a,i,n={};o(201),a=o(203),i=o(204),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(202);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(83),n=a(i),r=o(15),s=o(11),c=a(s);e.default={name:"ListItem",props:["productDetail","specifications","giftIndex"],computed:{cartItem:function(){var t={};return(0,n.default)(t,this.productDetail),t.selectDate=c.default.getSelectDate(),t.amount=1,"none"!=this.productDetail.giftType&&(t.appGiftItem=this.productDetail.appGiftActivity.appGifts[this.giftIndex]),t}},filters:{currency:function(t){return t?"¥ "+t:""}},methods:{fetchItem:function(t){var e=this,o={url:r.API_URLS.products,data:{id:t}};r.request.fnGet(this,o,function(t){console.log(t),e.$store.commit("setItemData",t)})},checkItem:function(t){this.$emit("close-detail",t)}}}},function(t,e){t.exports=' <div id=layer-item-box class=item-layer style="display: none"> <div class=item-detail> <div class=item-detail-con> <div class="price primary">{{productDetail.price | currency }}元</div> <div class=product> <img class="img-responsive center-block" :src=productDetail.image :alt=productDetail.title :title=productDetail.title> <p class=name>{{productDetail.name}} {{productDetail.specDesc}}</p> <p class="gift primary" v-if=productDetail.appGiftActivity>{{productDetail.appGiftActivity.name}}</p> <p class=stock>库存：{{productDetail.stock}}件</p> </div> <div class=specs-box> <div class=clearfix v-for="(item,index ) in specifications"> <p class=span-label>{{item.name}}</p> <a class="btn specs specs-btn" :class={selected:true} v-for="(item2,index2) in item.appSpecificationValues" @click=fetchItem(item2.id)>{{item2.name}}</a> </div> </div> </div> <div class=item-detail-bom> <a class="btn btn-lightgreen btn-block specs-ok" @click=checkItem(cartItem)>确定</a> </div> </div> <div class=gift-detail v-if="productDetail.giftType!=\'none\' && productDetail.appGiftActivity" :data-gift=productDetail.giftType> <div class=gift-detail-con> <div class="price primary"> 赠{{productDetail.appGiftActivity.name}} ¥ 0 / <del v-for="(item,index) in productDetail.appGiftActivity.appGifts"><span v-show="giftIndex==index">{{item.price}}</span></del> </div> <div class=gift-detail-item> <div class=swiper-wrapper> <div class=swiper-slide v-for="(item,index) in productDetail.appGiftActivity.appGifts"><img :src=item.image /></div> </div> </div> <div class=gift-detail-tab> <a class="btn btn-block gift gift-btn" v-for="(item,index) in productDetail.appGiftActivity.appGifts">{{item.name}}</a> </div> <div class=gift-detail-item-pagination></div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(206),a=o(208),i=o(209),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(207);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,'/*!item modale*/.item-layer{width:auto;display:none;overflow:hidden}.item-layer .item-detail{width:320px;float:left;height:360px;padding:15px;position:relative}.item-layer .item-detail .item-detail-con{position:relative;width:100%;height:360px;overflow:auto}.item-layer .item-detail .item-detail-con .price{position:relative}.item-layer .item-detail .item-detail-con .product{position:relative;left:0;right:0}.item-layer .item-detail .item-detail-con .product img{width:80%;margin:0 auto;max-height:160px}.item-layer .item-detail .item-detail-con .product .name{margin-top:10px;overflow:hidden}.item-layer .item-detail .item-detail-con .stock{color:#999}.item-layer .item-detail .item-detail-con .specs-box{position:relative}.item-layer .item-detail .item-detail-con .specs-box .specs-btn{position:relative;margin:5px 12px;float:left;color:#999;border:1px solid #999}.item-layer .item-detail .item-detail-con .specs-box .specs-btn.selected,.item-layer .item-detail .item-detail-con .specs-box .specs-btn:hover{color:#e84593;border-color:#e84593}.item-layer .item-detail .item-detail-con .txt-box{position:relative}.item-layer .item-detail .item-detail-con .txt-box p{color:#999}.item-layer .item-detail .item-detail-con .txt-box p.tips{color:#e84593}.item-layer .item-detail .item-detail-bom{position:relative;width:100%}.item-layer .item-detail .item-detail-bom .specs-ok{position:relative}.item-layer .norow{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.item-layer .stock-detail{width:320px;float:left;height:360px;padding:15px;position:relative;display:~none}.item-layer .stock-detail:after{content:"";display:block;position:absolute;width:0;height:360px;border:1px solid #f5f5f5;top:40px;left:-1px}.item-layer .stock-detail .stock-detail-con{position:relative;width:100%;height:100%}.item-layer .stock-detail .stock-detail-con .stock-list-box{width:100%;height:180px;padding-bottom:15px;overflow:auto;border-bottom:1px solid #ccc}.item-layer .stock-detail .stock-detail-con .stock-list-box p{text-align:center;margin-top:30px}.item-layer .stock-detail .stock-detail-con .stock-list-box ul{padding:0;margin:0}.item-layer .stock-detail .stock-detail-con .stock-list-box li{margin:15px 0;color:#999}.item-layer .stock-detail .stock-detail-con .stock-list-box li .stock-btn{width:60%;position:relative;display:inline-block;color:#999;border:1px solid #999;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.item-layer .stock-detail .stock-detail-con .stock-list-box li span{display:inline-block;width:40%;text-align:center}.item-layer .stock-detail .stock-detail-con .stock-list-box li.selected,.item-layer .stock-detail .stock-detail-con .stock-list-box li:hover{color:#e84593}.item-layer .stock-detail .stock-detail-con .stock-list-box li.selected .stock-btn,.item-layer .stock-detail .stock-detail-con .stock-list-box li:hover .stock-btn{border-color:#e84593;color:#e84593}.item-layer .stock-detail .stock-detail-con .stock-row{padding-top:15px;padding-bottom:15px}.item-layer .stock-detail .stock-detail-con .stock-row p{color:#999}.item-layer .stock-detail .stock-detail-con .stock-row input{padding:7px 20px;text-align:right;color:999999;border:1px solid #999;display:block;width:100%;border-radius:5px}.item-layer .stock-detail .stock-detail-con .stock-row input.enable{border-color:#e84593;color:#e84593}.item-layer .stock-detail .image{position:absolute;width:50%;margin:0 auto;left:0;right:0;top:100px}',""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(15),o(11));a(i);e.default={name:"ListItem",props:["productDetail","specifications","giftIndex"],computed:{needStock:{get:function(){return this.stockQuantity},set:function(t){isNaN(t)||(this.stockQuantity=t,this.stockQuantity>2e3&&(this.stockQuantity=this.shopRepository.stock))}}},data:function(){return{stockQuantity:0,shopRepository:{},shopRepositoryList:null}},filters:{currency:function(t){return t?"¥ "+t:""}},created:function(){alert(111),this.fetchData()},methods:{fetchData:function(t){this.shopRepositoryList=[{id:100,name:"商家1商家1商家1商家1商家1商家1商家1商家1商家1",stock:1e3},{id:101,name:"商家2商家2",stock:100},{id:102,name:"商家1",stock:200}]},chooseRepository:function(t){this.shopRepository=t,this.stockQuantity=0},checkRepository:function(){this.shopRepository.stockQuantity=this.needStock,this.$emit("close-stock",this.respository)}}}},function(t,e){t.exports=' <div id=layer-stock-box class=item-layer style="display: none"> <div class=item-detail> <div class=item-detail-con> <div class="price primary">{{productDetail.price | currency }}元</div> <div class=product> <img class="img-responsive center-block" :src=productDetail.image :alt=productDetail.title :title=productDetail.title> <p class=name>{{productDetail.name}} {{productDetail.specDesc}}</p> <p class="gift primary" v-if=productDetail.appGiftActivity>{{productDetail.appGiftActivity.name}}</p> <p class=stock>库存：{{productDetail.stock}}件</p> </div> <div class=txt-box> <p v-if=!shopRepository.name>请选择调度仓库</p> <p class=tips v-else>申请调拨： {{shopRepository.name}} <br/>调拨量： {{stockQuantity}} </p> </div> </div> </div> <div class=stock-detail> <div class=stock-detail-con> <div class=stock-list-box> <ul> <p v-if=!shopRepositoryList>加载中...</p> <p v-else-if="shopRepositoryList.length==0">暂时没有仓库提供</p> <li v-else v-for="(item,index) in shopRepositoryList" :class="{selected:item.id==shopRepository.id}"> <a class="btn btn-block stock-btn" @click=chooseRepository(item)>{{item.name}}</a><span>库存：{{item.stock}}件</span> </li> </ul> </div> <div class=stock-row> <p>申请调拨数量</p> <input v-model=needStock :class={enable:shopRepository.stock} :disabled=!shopRepository.stock type=tel placeholder=请输入调拨数量 number/> </div> <div class=item-detail-bom> <a class="btn btn-lightgreen btn-block specs-ok" @click=checkRepository>确定</a> </div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(211),a=o(213),i=o(214),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(212);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(15);e.default={name:"ProductList",props:["pageSize","productParams","showList"],computed:{itemData:function(){return this.$store.state.pageData.list}},filters:{currency:function(t){return t?"¥ "+t:""}},methods:{fetchItem:function(t){var e=this,o={url:a.API_URLS.products+"/"+t};a.request.fnGet(this,o,function(t){e.$store.commit("setItemData",t),e.$emit("open-detail")})}}}},function(t,e){t.exports=' <div class=row v-if="!itemData || !itemData.length" _v-fe7f4362=""> <div class=col-xs-12 _v-fe7f4362=""> 没有数据 </div> </div> <div class=row v-else="" _v-fe7f4362=""> <div class="col-lg-50 col-md-50 col-sm-33 col-xs-12 item" v-for="(item,index) in itemData " _v-fe7f4362=""> <div class=thumbnail @click=fetchItem(item.id); _v-fe7f4362=""> <a class=list-btn role=button v-show=item.specDesc&amp;&amp;item.specDesc.length _v-fe7f4362=""><span class="iconfont icon-liebiao" _v-fe7f4362=""></span></a> <div class="prcie primary" _v-fe7f4362="">{{item.price | currency }}元 <span class=stock _v-fe7f4362="">库存：{{item.stock}}件</span> </div> <div class=photo _v-fe7f4362=""> <img class=img-responsive :src=item.image :alt=item.title :title=item.title _v-fe7f4362=""> </div> <div class=caption _v-fe7f4362=""><p _v-fe7f4362="">{{item.name}}{{item.specDesc}}</p></div> <a class=buy-btn role=button v-show="item.giftType!=\'none\'" _v-fe7f4362=""><span class="iconfont icon-baobei" _v-fe7f4362=""></span></a> </div> </div> </div> '},function(t,e){t.exports=' <div class="container-fluid index"> <div class=row> <div class="col-sm-8 col-md-9 left-con"> <div class=left-con-header> <breadcrumb ref=breadcrumb :product-params=productParams></breadcrumb> </div> <div class=left-con-content> <loading v-if=loading></loading> <div class="item-box panel panel-primary"> <div class=panel-heading> <category :show-category=showCategory :product-categories=productCategories :product-params=productParams></category> <div class=row> <div class="col-xs-4 col-md-2 col-lg-2"> <a class="btn btn-lightgreen shuaixuan" @click="showCategory=!showCategory"><span class="glyphicon glyphicon-th-list"></span>分类筛选</a> </div> <div class="col-xs-6 col-md-3 col-xs-offset-2 col-md-offset-7"> <searchbar :product-params=productParams></searchbar> </div> </div> </div> <div class=panel-body> <div v-if=!showlist>载入中...</div> <product-list v-if=showlist :product-params=productParams @open-detail=openDetail></product-list> </div> <div class=panel-footer> <pagination :page=page :product-params=productParams></pagination> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 right-con"> <cart @open-stock=openStock :cart-data=cartData :cart-item-index=cartItemIndex></cart> <calc @trigger-build-order=buildOrder :cart-data=cartData :cart-item-index=cartItemIndex></calc> </div> </div> <list-item :product-detail=productDetail :specifications=specifications :gift-index=giftIndex @close-detail=closeDetail></list-item> <stock-item v-if=showStockItem :product-detail=productDetail @close-stock=closeStock></stock-item> </div> '},function(t,e,o){var a,i,n={};o(217),a=o(219),i=o(253),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(218);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(220),n=a(i),r=o(225),s=a(r),c=o(123),l=a(c),d=o(248),p=a(d);e.default={name:"appCenter",computed:{mode:function(){return this.$store.state.currentPage.mode},appLoading:function(){return this.$store.state.appLoading},waiting:function(){return this.$store.state.currentPage.waiting}},components:{OrderMain:s.default,RechargeMain:l.default,PrintMain:p.default,AppCenterLoading:n.default},watch:{mode:"routerGo"},created:function(){this.routerGo()},methods:{routerGo:function(){"index"==this.mode&&this.$router.replace("/")}}}},function(t,e,o){var a,i,n={};o(221),a=o(223),i=o(224),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(222);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,'.apploading[_v-29e37ad7]{width:100%;height:100%;position:fixed;top:0;background:none;z-index:99}.apploadEffect[_v-29e37ad7]{width:100px;height:100px;position:fixed;padding:18px;top:50%;left:50%;margin-left:-35px;margin-top:-35px;background:#fff;border-radius:5px}.loading-circle[_v-29e37ad7]{width:100%;height:100%;position:relative}.outer[_v-29e37ad7]{position:absolute;width:100%;height:100%;background:url("/images/icon-spin-s.png") no-repeat;-webkit-animation:spin .8s infinite linear;animation:spin .8s infinite linear}.inner2[_v-29e37ad7],.inner[_v-29e37ad7]{position:absolute;width:38px;height:38px;border-radius:40px;overflow:hidden;left:13px;top:13px}.inner[_v-29e37ad7]{opacity:1;background-color:#89abdd;-webkit-animation:second-half-hide 1.6s steps(1) infinite;animation:second-half-hide 1.6s steps(1) infinite}.inner2[_v-29e37ad7]{opacity:0;background-color:#4b86db;-webkit-animation:second-half-show 1.6s steps(1) infinite;animation:second-half-show 1.6s steps(1) infinite}.filler[_v-29e37ad7],.masker[_v-29e37ad7],.spiner[_v-29e37ad7]{position:absolute;width:50%;height:100%}.spiner[_v-29e37ad7]{border-radius:40px 0 0 40px;background-color:#4b86db;-webkit-transform-origin:right center;transform-origin:right center;-webkit-animation:spin .8s infinite linear;animation:spin .8s infinite linear;left:0;top:0}.filler[_v-29e37ad7]{border-radius:0 40px 40px 0;background-color:#4b86db;-webkit-animation:second-half-hide .8s steps(1) infinite;animation:second-half-hide .8s steps(1) infinite;left:50%;top:0;opacity:1}.masker[_v-29e37ad7]{border-radius:40px 0 0 40px;-webkit-animation:second-half-show .8s steps(1) infinite;animation:second-half-show .8s steps(1) infinite;left:0;top:0;opacity:0}.inner2 .filler[_v-29e37ad7],.inner2 .spiner[_v-29e37ad7],.masker[_v-29e37ad7]{background-color:#89abdd}.inner2 .masker[_v-29e37ad7]{background-color:#4b86db}@-webkit-keyframes spin{0%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes spin{0%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@-webkit-keyframes second-half-hide{0%{opacity:1}50%,to{opacity:0}}@keyframes second-half-hide{0%{opacity:1}50%,to{opacity:0}}@-webkit-keyframes second-half-show{0%{opacity:0}50%,to{opacity:1}}@keyframes second-half-show{0%{opacity:0}50%,to{opacity:1}}',""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"AppCenterLoading"}},function(t,e){t.exports=' <div class=apploading _v-29e37ad7=""> <div class=apploadEffect _v-29e37ad7=""> <div class=loading-circle _v-29e37ad7=""> <div class=outer _v-29e37ad7=""></div> </div> </div> </div> '},function(t,e,o){var a,i,n={};a=o(226),i=o(247),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(227),n=a(i),r=o(232),s=a(r),c=o(242),l=a(c),d=o(15),p=o(90),u=a(p),f=o(105);a(f);e.default={data:function(){return{title:"结账",back:{label:"返回",url:"index",show:!0},next:{label:"打印",url:"print",show:!0,cb:this.createOrder},message:"请选择一个付款方式"}},components:{AppCenterHeader:n.default,AppCenterMenu:l.default,AppCenterCustom:s.default},watch:{},computed:{customData:function(){return this.$store.state.currentPage.customData},cartData:function(){return this.$store.state.currentPage.cartData},mode:function(){return this.$store.state.currentPage.mode},order:function(){return this.$store.state.currentPage.orderData},amount:function(){return this.order.totalAmountPayable},orderParams:function(){return this.$store.state.currentPage.orderParams}},methods:{createOrder:function(){var t=this;if(!this.orderParams.paymentMethodId)return u.default.msg("请选择一种付款方式",{icon:2}),!1;if(10==this.orderParams.paymentMethodId&&this.orderParams.rmb<=this.amount)return u.default.msg("现金支付付款不能为零",{icon:2}),!1;var e={url:d.API_URLS.b2b_orders+"/create",data:this.$store.state.currentPage.orderParams};this.$store.commit("show_waiting"),d.request.fnPost(this,e,function(e){t.$store.commit("hide_waiting"),t.$store.commit("setOrderData",e.appOrderConfirmBean),t.$store.commit("setPrintData",e.appOrderConfirmBean),t.$store.commit("setMode","print"),t.$router.replace("print");
},function(){t.$store.commit("hide_waiting")})}}}},function(t,e,o){var a,i,n={};o(228),a=o(230),i=o(231),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(229);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(90),n=a(i),r=o(105);a(r);e.default={name:"OrderHeader",props:["title","back","next","mode"],methods:{toBack:function(){var t="确定"+this.back.label+"吗?",e=this;n.default.confirm(t,{btn:["确定"]},function(t){e.back.cb?e.back.cb():(e.$store.commit("setMode",e.back.url),e.$router.replace(e.back.url)),n.default.close(t)})},toNext:function(){var t="确定"+this.next.label+"吗?",e=this;n.default.confirm(t,{btn:["确定"]},function(t){e.next.cb?e.next.cb():(e.$store.commit("setMode",e.next.url),e.$router.replace(e.next.url)),n.default.close(t)})}}}},function(t,e){t.exports=' <div class="container order-header"> <div class=row> <div class="col-sm-2 col-md-2 col-lg-2"> <a class="btn btn-default back-btn pull-left" @click=toBack(); v-if=back.show>&laquo;{{back.label}} </a> </div> <div class="col-sm-8 col-md-8 col-lg-8 text-center"> <h3>{{title}}</h3> </div> <div class="col-sm-2 col-md-2 col-lg-2 pull-right"> <a class="btn btn-default ok-btn pull-right" @click=toNext(); v-if=next.show> {{next.label}} &raquo;</a> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(233),a=o(235),i=o(241),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(234);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(236),n=a(i);e.default={name:"OrderHeader",props:["mode","amount","message","order"],computed:{custom:function(){this.$store.state.currentPage.customData;return this.$store.state.currentPage.customData}},components:{InfoList:n.default},methods:{showCustomModal:function(){function t(){$(this).each(function(t){var e=$(this).clone().css("display","block").appendTo("body"),o=Math.round((e.height()-e.find(".modal-content").height())/2);o=o>0?o:0,e.remove(),$(this).find(".modal-content").css("margin-top",o)})}var e=this;this.$root.showCustomModal=!0,this.$nextTick(function(){var o="#layer-custom";$(o).on("show.bs.modal",t),$(o).on("hidden.bs.modal",function(){e.$root.showCustomModal=!1}),$(o).modal({backdrop:"static",keyboard:!1,show:!1}),$(window).on("resize",function(e){return t}),$(o).modal("toggle")})}}}},function(t,e,o){var a,i,n={};o(237),a=o(239),i=o(240),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(238);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,'.rechargelist-btn[_v-503ee49d]{font-size:18px;color:#666;padding:10px;border-color:#ccc;border-radius:5px;background:#fff}.rechargelist-btn.select[_v-503ee49d],.rechargelist-btn[_v-503ee49d]:active{color:#666;padding:10px;border-color:#e84593;border-radius:5px;background:#fff}.col-nn-15[_v-503ee49d]{width:15%;float:left;padding-left:8px;padding-right:7px}.col-nn-25[_v-503ee49d]{width:25%;float:left;padding-left:8px;padding-right:7px}.rechargelist[_v-503ee49d]{float:left;width:70%}.rechargelist .rechargelist-btn span[_v-503ee49d]{display:block;position:relative}.rechargelist .rechargelist-btn em[_v-503ee49d]{display:block;color:#999;font-size:14px;line-height:30px}.rechargelist .rechargelist-btn.diy input[_v-503ee49d]{width:80%;text-align:right}.rechargelist .rechargelist-btn.diy span[_v-503ee49d]:after{content:"";display:block;width:100%;background:#999;height:1px}.rechargelist .rechargelist-btn.select span[_v-503ee49d]:after{background:#e84593}',""])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(15);e.default={name:"CustomList",props:["custom","order"],computed:{usePoint:function(){return this.$store.state.currentPage.orderParams.usePoint},useBalance:function(){return this.$store.state.currentPage.orderParams.useBalance},couponCodeId:function(){return this.$store.state.currentPage.orderParams.couponCodeId}},created:function(){},filters:{dikou:function(t){return 0==t?"0.00":"可抵扣 "+t+"元"},currency:function(t){return t?"¥ "+t:""}},methods:{chooseCoupon:function(){function t(){$(this).each(function(t){var e=$(this).clone().css("display","block").appendTo("body"),o=Math.round((e.height()-e.find(".modal-content").height())/2);o=o>0?o:0,e.remove(),$(this).find(".modal-content").css("margin-top",o)})}if(0==this.order.canChooseCouponCodes.length)return!1;var e=this;e.$root.showCouponModal=!0,e.$nextTick(function(){var o="#layer-coupon";$(o).on("show.bs.modal",t),$(o).on("hidden.bs.modal",function(){e.$root.showCouponModal=!1}),$(o).modal({backdrop:"static",keyboard:!1,show:!1}),$(window).on("resize",function(e){return t}),$(o).modal("toggle")}),this.refreshOrder()},choosePoint:function(){if(0==this.custom.point)return!1;var t=!this.usePoint;this.$store.commit("setOrderParams",{usePoint:t}),this.refreshOrder()},chooseBalance:function(){if(0==this.custom.balance)return!1;var t=!this.useBalance;this.$store.commit("setOrderParams",{useBalance:t}),this.refreshOrder()},refreshOrder:function(){var t=this,e={url:a.API_URLS.b2b_orders+"/build",data:this.$store.state.currentPage.orderParams};this.$store.commit("show_waiting"),a.request.fnPost(this,e,function(e){t.$store.commit("setOrderData",e.appOrderConfirmBean),t.$store.commit("hide_waiting")})}}}},function(t,e){t.exports=' <div class="infolist clearfix" _v-503ee49d=""> <div class=col-nn-23 _v-503ee49d=""> <a class="btn btn-default coupon-btn btn-block" :class={cur:order.couponCodeId} @click=chooseCoupon() _v-503ee49d=""> <b _v-503ee49d="">优惠券</b> <span v-if="order.canChooseCouponCodes &amp;&amp; !order.couponCodeId" _v-503ee49d="">{{order.canChooseCouponCodes.length}}张</span> <span v-else-if=order.couponCodeId _v-503ee49d="">已选：{{order.couponName}}</span> </a> </div> <div class=col-nn-23 _v-503ee49d=""> <a class="btn btn-default point-btn btn-block" :class={cur:order.usePoint} @click=choosePoint() _v-503ee49d=""> <b _v-503ee49d="">{{custom.point}}积分</b><span _v-503ee49d="">{{order.canPointDiscount | dikou }}</span> </a> </div> <div class=col-nn-23 _v-503ee49d=""> <a class="btn btn-default balance-btn btn-block" :class={cur:order.useBalance} @click=chooseBalance() _v-503ee49d=""> <b _v-503ee49d="">{{custom.balance}}余额</b><span _v-503ee49d="">{{order.canUseBalance | dikou }}</span> </a> </div> </div> '},function(t,e){t.exports=' <div class="container order-custom"> <div class=row> <div class=col-nn-30> <a class="btn btn-default custom-btn btn-block" @click=showCustomModal()> <span class="iconfont icon-guanliyuan"></span> {{custom.nickname}} </a> </div> <info-list v-if="mode==\'order\'" :amount=amount :message=message :custom=custom :order=order></info-list> </div> </div> '},function(t,e,o){var a,i,n={};o(243),a=o(245),i=o(246),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(244);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"OrderMenu",props:["mode"],data:function(){return{menuIndex:1,recharge:!1}},computed:{custom:function(){return this.$store.state.currentPage.customData},payMethod:function(){return this.$store.state.currentPage.orderParams.paymentMethodId}},methods:{payScan:function(){this.recharge=!1,this.$store.commit("setOrderParams",{paymentMethodId:12}),this.$router.replace("/scan")},payMoney:function(){this.recharge=!1,this.$store.commit("setOrderParams",{paymentMethodId:10}),this.$router.replace("/money")},payCard:function(){this.recharge=!1,this.$store.commit("setOrderParams",{paymentMethodId:11}),this.$router.replace("/card")},goRecharge:function(){function t(){$(this).each(function(t){var e=$(this).clone().css("display","block").appendTo("body"),o=Math.round((e.height()-e.find(".modal-content").height())/2);o=o>0?o:0,e.remove(),$(this).find(".modal-content").css("margin-top",o)})}var e=this;if(!this.custom.id){var o=function(){$(this).each(function(t){var e=$(this).clone().css("display","block").appendTo("body"),o=Math.round((e.height()-e.find(".modal-content").height())/2);o=o>0?o:0,e.remove(),$(this).find(".modal-content").css("margin-top",o)})};return this.$root.showCustomModal=!0,this.$nextTick(function(){var t=e,a="#layer-custom";$(a).on("show.bs.modal",o),$(a).on("hidden.bs.modal",function(){t.$root.showRechargeModal=!1,t.recharge=!1}),$(a).modal({backdrop:"static",keyboard:!1,show:!1}),$(window).on("resize",function(t){return o}),$(a).modal("toggle")}),!1}this.recharge=!0,this.$root.showRechargeModal=!0,this.$nextTick(function(){var o=e,a="#layer-recharge";$(a).on("show.bs.modal",t),$(a).on("hidden.bs.modal",function(){o.$root.showRechargeModal=!1,o.recharge=!1}),$(a).modal({backdrop:"static",keyboard:!1,show:!1}),$(window).on("resize",function(e){return t}),$(a).modal("toggle")})}}}},function(t,e){t.exports=' <div class=order-menu> <a class="btn btn-default scan-btn btn-block" :class="{on:payMethod==12}" @click=payScan><span class="iconfont icon-qr2" aria-hidden=true></span> 扫码</a> <a class="btn btn-default scan-btn btn-block" :class="{on:payMethod==10}" @click=payMoney><span class="iconfont icon-icon" aria-hidden=true></span>现金</a> <a class="btn btn-default scan-btn btn-block" :class="{on:payMethod==11}" @click=payCard><span class="iconfont icon-xinyongqiahuankuan" aria-hidden=true></span>刷卡</a> <a :class={on:recharge} class="btn btn-default recharge-btn btn-block" @click=goRecharge><span class="iconfont icon-jizhang" aria-hidden=true></span>充值</a> </div> '},function(t,e){t.exports=' <div class=order> <app-center-header :title=title :back=back :next=next mode=mode></app-center-header> <app-center-custom :mode=mode :message=message :amount=amount :order=order></app-center-custom> <div class="container order-body"> <div class=row> <div class="col-nn-30 left-con"> <app-center-menu :mode=mode></app-center-menu> </div> <div class="col-nn-70 right-con"> <div class=content> <transition name=slide> <keep-alive> <router-view :message=message :amount=amount :order=order :show-shop-admin-btn=true></router-view> </keep-alive> </transition> </div> </div> </div> </div> </div> '},function(t,e,o){var a,i,n={};o(249),a=o(251),i=o(252),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(250);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,'.payres-txt{color:#e84593;margin-top:10px;font-size:16px}.payres-txt.success{color:#6fc89c}.print-box{width:260px;padding:50px 15px 100px;margin:0 auto;border:1px solid #ddd;border-radius:5px}.print-box,.print-box h5{font-size:14px;display:block}.print-box h5{line-height:20px}.print-box table.printtable{width:100%;display:block;position:relative;line-height:24px;font-family:\\\\9ED1\\4F53}.print-box table.printtable caption,.print-box table.printtable tbody{display:block}.print-box table.printtable .strong{font-weight:700;font-size:16px}.print-box table.printtable .split{margin-top:10px}.print-box table.printtable tr{display:block;clear:left}.print-box table.printtable:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.print-box table.printtable{*zoom:1}.print-box table.printtable td:last-child{display:block;width:40%;float:left;position:relative;text-align:right}.print-box table.printtable td:first-child{display:block;width:60%;float:left;position:relative}.print-box table.printtable span:last-child{display:inline-block;width:20%;float:right}.print-box table.printtable span:first-child{display:inline-block;width:80%;float:left}.print-box table.printtable td.block{width:100%!important;clear:both;text-align:center}.print-box .text-center{text-align:center!important}.print-box .text-right{text-align:right!important}.print-box .text-left{text-align:left!important}.print-box p{margin-top:10px}.print-box #qrcCode{margin-left:0;margin-top:10px}',""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(227),n=a(i),r=o(232),s=a(r),c=o(242),l=a(c),d=o(15),p=o(90),u=a(p),f=o(105),m=a(f);e.default={data:function(){return{title:"打印",back:{label:"返回",url:"order",show:!1},next:{label:"下个订单",url:"index",show:!0,cb:this.clearOrder},message:"等待付款",amount:0,payStatus:"wait"}},components:{AppCenterHeader:n.default,AppCenterMenu:l.default,AppCenterCustom:s.default},computed:{mode:function(){return this.$store.state.currentPage.mode},orderParams:function(){return this.$store.state.currentPage.orderParams},order:function(){return this.$store.state.currentPage.orderData},printData:function(){var t=this.$store.state.currentPage.printData,e=new Date,o=e.toLocaleDateString(),a=e.toLocaleTimeString(),i={12:"扫码支付",10:"现在支付",11:"刷卡支付"};return t.paymentName=i[this.orderParams.paymentMethodId],t.cash=this.orderParams.cash||0,t.DateTime=o+" "+a,t}},created:function(){this.$nextTick(function(){(0,m.default)("#qrcCode").html(""),console.log(this.printData),this.printData.wechatCodeUrl&&((0,m.default)("#qrcCode").qrcode({render:"table",text:this.printData.wechatCodeUrl,width:230,height:230}),this.scanResListen())})},methods:{clearOrder:function(){var t=this.$store.state.currentPage.index;this.$store.commit("removePage",t),this.$store.commit("switchPage",t),this.$router.replace("/"+this.mode)},printPage:function(){var t=document.getElementById("printDiv"),e=t.innerHTML,o=window.open("/print.html","_blank"),a=document.getElementById("styles").innerHTML,i='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>打印</title><style type="text/css">'+a+"</style></head><body>",n="</body></html>";e=i+e+n,o.document.write(e),o.document.close(),o.print(),o.close()},scanResListen:function(){var t=this,e={url:d.API_URLS.payments+"/"+this.order.paymentSn,data:{r:Math.random()}};d.request.fnGet(this,e,function(e){console.log(t.payStatus),t.payStatus=e.status}),"wait"==this.payStatus?setTimeout(function(){t.scanResListen()},5e3):"success"==this.payStatus?(this.message="付款成功",(0,m.default)(".payres-txt").addClass("success"),u.default.msg(this.message,{icon:1})):(this.message="付款失败",(0,m.default)(".payres-txt").addClass("error"),u.default.msg(this.message,{icon:2}))}}}},function(t,e){t.exports=' <div class=print> <app-center-header :title=title :back=back :next=next mode=mode></app-center-header> <div class="container order-custom"> <div class=row> <div class=col-xs-12> <a class="btn btn-default print-btn btn-block" @click=printPage();> <span class="iconfont icon-font29" aria-hidden=true></span> 打印 </a> </div> </div> </div> <div class="container print-body"> <div class=row v-if=printData.paymentSn> <div class="col-xs-12 text-center"> <p class=payres-txt>{{message}}</p> </div> </div> <div class=row> <div class=col-xs-12 id=printDiv> <div class="print-box show"> <table class=printtable> <caption class=text-left> <h5>{{printData.DateTime}}</h5> <h5>订单号 {{printData.sn}}</h5> </caption> <tbody> <tr> <td colspan=2 class="text-left block">阿喔优品公司</td> </tr> <tr v-show=printData.cashierName> <td colspan=2 class="text-left block">营业员：{{printData.cashierName}}</td> </tr> <tr v-show=printData.customer> <td colspan=2 class="text-left block">顾客：{{printData.customer}}</td> </tr> <tr v-show=printData.guiderName> <td colspan=2 class="text-left block">导购员：{{printData.guiderName}}</td> </tr> <tr class=split v-for="(item,index) in printData.appOrderItemConfirms"> <td><span>{{item.name}}</span><span>*{{item.quantity}}</span></td> <td>¥ {{item.price}}</td> </tr> <tr class=split> <td>小计 </td> <td>¥ {{printData.totalOrderAmount}}</td> </tr> <tr> <td>优惠券 </td> <td>¥ {{printData.couponDiscount}}</td> </tr> <tr> <td>积分支付</td> <td>¥ {{printData.pointDiscount}}</td> </tr> <tr> <td>余额支付</td> <td>¥ {{printData.balanceAmount}}</td> </tr> <tr class="strong split"> <td>总计</td> <td>¥ {{order.totalAmountPayable}}</td> </tr> <tr class=split> <td>付款方式</td> <td>{{printData.paymentName}}</td> </tr> <tr class=split> <td>找零</td> <td>¥ {{printData.cash}}</td> </tr> </tbody> </table> <p class=text-center v-if=order.wechatCodeUrl>请微信扫码付款</p> <div id=qrcCode></div> </div> <div style="display: none" id=styles> *{padding:0; margin:0;} body{width: 260px;} .print-box {width: 260px; padding:100px 15px; margin:0 auto; font-size: 12pt; } .print-box h5{font-size: 14px; line-height:20px; display:block; } .print-box table.printtable{ width: 100%; display: block;position: relative; line-height: 24px; font-family:\'黑体\' } .print-box table.printtable tbody{display: block;} .print-box table.printtable caption{display:block;} .print-box table.printtable .strong{font-weight: bold; font-size: 16px;} .print-box table.printtable .split{ margin-top:10px; } .print-box table.printtable tr{ display:block;clear: left;} .print-box table.printtable:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0;} .print-box table.printtable{*zoom:1;} .print-box table.printtable td:last-child{display: block; width: 40%;float: left; position: relative; text-align: right;} .print-box table.printtable td:first-child{display: block; width: 60%;float: left; position: relative;} .print-box table.printtable span:last-child{display: inline-block; width:20%; float:right; } .print-box table.printtable span:first-child{display: inline-block; width:80%; float: left;} .print-box table.printtable td.block{width:100% !important; clear:both; text-align:center; } .print-box .text-center {text-align: center !important;} .print-box .text-right {text-align: right !important;} .print-box .text-left {text-align: left !important;} .print-box p {margin-top:10px;} .print-box #qrcCode{ margin-left:15px; margin-top:10px; } </div> </div> </div> </div> </div> '},function(t,e){t.exports=" <div class=appCenter> <app-center-loading v-if=waiting></app-center-loading> <order-main v-if=\"mode=='order'\"></order-main> <print-main v-if=\"mode=='print'\"></print-main> </div> "},function(t,e,o){var a,i,n={};o(255),a=o(257),i=o(258),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(256);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,".message{background:#efefef}.message .order-header{padding:15px;position:relative;border-bottom:1px dashed #e5e5e5;border-width:2px}.message .order-header h3{font-size:18px;line-height:30px;margin:0}.message .order-header .back-btn,.message .order-header .ok-btn{color:#666;padding:10px 20px;border-color:#ccc;border-radius:5px;background:#f0eeef}.message .order-header .back-btn:hover,.message .order-header .ok-btn:hover{color:#fff;padding:10px 20px;border-color:#ccc;border-radius:5px;background:#6fc89c}.message .order-header .back-btn:active,.message .order-header .ok-btn:active{color:#fff;padding:10px 20px;border-color:#ccc;border-radius:5px;background:#3b8c64}.message .order-header .back-btn.select,.message .order-header .ok-btn.select{color:#fff;padding:25px;border-color:#ccc;border-radius:5px;background:#6fc89c}.message .page-con{height:588px}.message .container{background-color:#fff;border-left:1px dashed #e5e5e5;border-right:1px dashed #e5e5e5}.message .btn{position:relative}.message .m-box{height:auto;background:#fff;z-index:9999;border:1px solid #ddd;margin-top:12px;margin-bottom:12px;border-radius:3px;padding:12px;color:#333}.message .m-box .msg-pop-close{right:12px;top:12px;position:absolute}.message .m-box h3{color:#e84593;margin:0;font-size:18px;line-height:30px;width:85%}.message .m-box em{position:absolute;right:24px;top:45px}.message .m-box p{width:85%;color:#333}.message .m-box .c{height:80px;line-height:20px;overflow:hidden}.message .m-box .r{text-align:right}.message .m-box .btn-agree{border:1px solid #6fc89c;color:#6fc89c}.message .m-box .btn-agree,.message .m-box .btn-refuse{position:relative;display:inline;margin-right:12px;margin-left:12px}.message .m-box .btn-refuse{border:1px solid #e84593;color:#e84593}",""])},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(227),n=a(i),r=o(15),s=o(90),c=(a(s),o(105));a(c);e.default={name:"searchbar",data:function(){return{title:"消息",back:{label:"返回",url:"index",show:!0},next:{label:"打印",url:"print",show:!1},message:"请选择一个付款方式",page:{hasPreviousPage:!0,hasNextPage:!0,pages:3,pageNum:1}}},components:{AppCenterHeader:n.default},watch:{},computed:{},methods:{pageTo:function(t){alert(t)},fetchList:function(){if(this.searchItem.keyword){var t=this,e={url:r.API_URLS.products,data:{categoryId:t.productParams.categoryId,brandId:t.productParams.brandId,pageNum:1,keyword:t.searchItem.keyword}};r.request.fnGet(t,e,function(e){t.$store.commit("setProductParams",{searchStr:t.searchItem.keyword,pageNum:1}),t.$store.commit("setPageData",e.page)})}}}}},function(t,e){t.exports=' <div class=message> <app-center-header :title=title :back=back :next=next mode=mode></app-center-header> <div class="container message-body"> <div class="row page-con"> <div class=col-xs-6> <div class=m-box> <a class="btn msg-pop-close" @click=closeMsg>&times;</a> <h3>某某商铺申请调拨</h3> <div class=c> <p>xxxx商品xxxx商品 3段 900gxxxx商品 3段 900g</p> </div> <em>数量 55</em> <div class=r> <a class="btn btn-agree">同意</a> <a class="btn btn-refuse">拒绝</a> </div> </div> </div> <div class=col-xs-6> <div class=m-box> <a class="btn msg-pop-close" @click=closeMsg>&times;</a> <h3>某某商铺申请调拨</h3> <div class=c> <p>xxxx商品xxxx商品 3段 900gxxxx商品 3段 900g</p> </div> <em>数量 55</em> <div class=r> <a class="btn btn-agree">同意</a> <a class="btn btn-refuse">拒绝</a> </div> </div> </div> <div class=col-xs-6> <div class=m-box> <a class="btn msg-pop-close" @click=closeMsg>&times;</a> <h3>某某商铺申请调拨</h3> <div class=c> <p>xxxx商品xxxx商品 3段 900gxxxx商品 3段 900g</p> </div> <em>数量 55</em> <div class=r> <a class="btn btn-agree">同意</a> <a class="btn btn-refuse">拒绝</a> </div> </div> </div> <div class=col-xs-6> <div class=m-box> <a class="btn msg-pop-close" @click=closeMsg>&times;</a> <h3>某某商铺申请调拨</h3> <div class=c> <p>xxxx商品xxxx商品 3段 900gxxxx商品 3段 900g</p> </div> <em>数量 55</em> <div class=r> <a class="btn btn-agree">同意</a> <a class="btn btn-refuse">拒绝</a> </div> </div> </div> <div class=col-xs-6> <div class=m-box> <a class="btn msg-pop-close" @click=closeMsg>&times;</a> <h3>某某商铺申请调拨</h3> <div class=c> <p>xxxx商品xxxx商品 3段 900gxxxx商品 3段 900g</p> </div> <em>数量 55</em> <div class=r> <a class="btn btn-agree">同意</a> <a class="btn btn-refuse">拒绝</a> </div> </div> </div> <div class=col-xs-6> <div class=m-box> <a class="btn msg-pop-close" @click=closeMsg>&times;</a> <h3>某某商铺申请调拨</h3> <div class=c> <p>xxxx商品xxxx商品 3段 900gxxxx商品 3段 900g</p> </div> <em>数量 55</em> <div class=r> <a class="btn btn-agree">同意</a> <a class="btn btn-refuse">拒绝</a> </div> </div> </div> </div> <div class=page-bar> <ul class=pagination> <li><span class=pagination-label>第 {{page.pageNum}} 页,共 {{page.pages}} 页</span></li> <li v-if=page.hasPreviousPage><a @click=pageTo(page.pageNum-1)>上一页</a></li> <li v-for=" index in page.pages" :class="{active:index==page.pageNum}" @click=pageTo(index)><a>{{ index }}</a></li> <li v-if=page.hasNextPage><a @click=pageTo(page.pageNum+1)>下一页</a></li> </ul> </div> </div> </div>'},function(t,e,o){var a,i,n={};a=o(260),i=o(261),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(136),n=a(i);e.default={name:"OrderDefault",props:["message","amount","showShopAdminBtn"],components:{shopAdminBtn:n.default},filters:{currency:function(t){return"¥ "+t}}}},function(t,e){t.exports=' <div class="tab-con tab-con-0 text-center tabShow"> <h1 class=pay-amount>{{amount | currency}}</h1> <p class=pay-tips> {{ message }}</p> <shop-admin-btn v-show=showShopAdminBtn></shop-admin-btn> </div> '},function(t,e,o){var a,i,n={};o(263),a=o(265),i=o(266),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(264);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["message","amount","giftAmount"],filters:{currency:function(t){return t?"¥ "+t:""}}}},function(t,e){t.exports=' <div class="tab-con tab-con-0 text-center tabShow"> <h1 class=pay-amount>{{amount | currency}}</h1> <p class=pay-gift-amount v-if=giftAmount>{{giftAmount}}</p> <p class=pay-tips> {{ message }}</p> </div> '},function(t,e,o){var a,i,n={};o(268),a=o(270),i=o(271),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(n).forEach(function(t){var e=n[t];r.computed[t]=function(){return e}})},function(t,e,o){var a=o(269);"string"==typeof a&&(a=[[t.id,a,""]]);o(9)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,o){e=t.exports=o(8)(),e.push([t.id,"",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={compiled:function(){},ready:function(){},computed:{listData:function(){return[]}},methods:{filterList:function(t){this.cartData.index=index}}}},function(t,e){t.exports=" <div class=content> 404 </div> "}]);