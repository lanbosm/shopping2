{"version":3,"sources":["webpack:///./src/js/index.js"],"names":["setCartHeight","h","window","innerHeight","w","innerWidth","$","show","height","hide","Vue","compiled","onresize","getNavList","ready","cid","getUrlHash","getItemList","getCustomList","filters","sex","value","data","pageCur","pageTotal","limit","searchItem","text","input","searching","searchCustom","navData","apiUrl","index","path","list","itemData","newItem","cartItem","customData","newCustom","curCustom","customModal","status","history","code","computed","newItemModal","specs","totalprice","total","forEach","e","i","price","amount","filteredItemDataList","self","p","l","filter","item","title","indexOf","filteredByPage","pageindexs","left","right","pages","push","showLast","showFirst","filteredCustomDataList","custom","name","phone","watch","val","setTimeout","modal","methods","vm","$http","get","params","Math","random","headers","emulateJSON","then","response","console","log","$set","catch","alert","openItem","layer","open","id","type","shade","anim","zIndex","closeBtn","area","content","success","cancel","end","pushCart","boon","imgurl","selectDate","getSelectDate","checkCartItem","ev","settleAccounts","calc","keycode","length","prcie","isNaN","str","substring","splice","parseInt","arr","ceil","slice","pageClick","page","scrollTo","getspecsClick","specsClick","addNewCustom","$mount"],"mappings":"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","file":"index.js","sourcesContent":["\r\n\r\n\r\nimport util from 'util/util.js';\r\n\r\n// import util from 'ui/model.js';\r\n\r\n/**\r\n * [设置购物车的高]\r\n */\r\nfunction setCartHeight (){\r\n    var h=window.innerHeight*0.6;\r\n    var w=window.innerWidth;\r\n    if(w>=768){\r\n        $(\"#shoppingCart-list\").show();\r\n        $(\"#shoppingCart-list\").height(h+\"px\");\r\n    }else{\r\n        $(\"#shoppingCart-list\").hide();\r\n    }\r\n}\r\n\r\nnew Vue({\r\n    compiled:function(){\r\n        setCartHeight();\r\n        window.onresize=setCartHeight();\r\n        this.getNavList();\r\n    },\r\n    ready: function() {\r\n\r\n        var cid=util.getUrlHash(\"category\");\r\n        this.getItemList(cid);\r\n        this.getCustomList();\r\n    },\r\n    filters: {\r\n        sex: function(value){\r\n            if(value==\"男\"){\r\n                return \"man\";\r\n            }else{\r\n                return \"women\";\r\n            }\r\n        }\r\n    },\r\n    data:{\r\n        pageCur: 1,//当前页码\r\n        pageTotal: 10, //总页数\r\n        limit:12,  //一页显示多少个\r\n        searchItem:{\r\n            text:\"\",          //文本\r\n            input:\"\",\t\t  //控件\r\n            searching:false   //是否搜索中\r\n        },\r\n        searchCustom:{\r\n            text:\"\",          //文本\r\n            input:\"\",\t\t  //控件\r\n            searching:false   //是否搜索中\r\n        },\r\n        //导航数据\r\n        navData:{\r\n            apiUrl: '/data/navData.json',\r\n            index:0,\r\n            show:false,\r\n            path:[],\r\n            list:[]\r\n        },\r\n        //商品数据\r\n        itemData:{\r\n            apiUrl: '/data/itemData.json',\r\n            index:0,\r\n            list:[],\r\n            newItem:{},\r\n        },\r\n        //购物车\r\n        cartItem:{\r\n            index:0,\r\n            list:[],\r\n        },\r\n        //会员数据\r\n        customData:{\r\n            apiUrl: '/data/customData.json',\r\n            index:0,\r\n            list:[],\r\n            newCustom:{},\r\n            curCustom:{}\r\n        },\r\n        customModal:{\r\n            status:'normal',\r\n            history:'',\r\n            code:0\r\n        }\r\n    },\r\n    computed: {\r\n        newItemModal:function(){\r\n\r\n            if(this.itemData.newItem.specs){\r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        },\r\n        totalprice: function () {\r\n            var total=0;\r\n            this.cartItem.list.forEach(function(e,i){\r\n                total+=e.price*e.amount;\r\n            })\r\n            return total;\r\n        },\r\n        //过滤物品数据列表\r\n        filteredItemDataList: function () {\r\n            var self = this;\r\n            var p=this.itemData.list;\r\n            var l=this.limit\r\n\r\n            //如果有搜索\r\n            if(this.searchItem.searching){\r\n                p=p.filter(function (item) {\r\n                    return item.title.indexOf(self.searchItem.text) !== -1;\r\n                });\r\n            }\r\n\r\n            //分页显示\r\n            p=this.filteredByPage(p,l);\r\n            return p;\r\n        },\r\n        pageindexs: function(){\r\n            var left = 1\r\n            var right = this.pageTotal\r\n            var pages = []\r\n            if(this.pageTotal>= 11){\r\n                if(this.pageTotal > 5 && this.pageCur < this.pageTotal-4){\r\n                    left = this.pageCur - 5\r\n                    right = this.pageCur + 4\r\n                }else{\r\n                    if(this.pageCur<=5){\r\n                        left = 1\r\n                        right = 10\r\n                    }else{\r\n                        right = this.pageTotal\r\n                        left = this.pageTotal -9\r\n                    }\r\n                }\r\n            }\r\n            while (left <= right){\r\n                pages.push(left)\r\n                left ++\r\n            }\r\n            return pages\r\n        },\r\n        //显示下一页\r\n        showLast: function(){\r\n            if(this.pageCur == this.pageTotal   ){\r\n                return false\r\n            }\r\n            return true\r\n        },\r\n        //显示上一页\r\n        showFirst: function(){\r\n            if(this.pageCur == 1){\r\n                return false\r\n            }\r\n            return true\r\n        },\r\n        //filteredCustomDataList\r\n        filteredCustomDataList: function () {\r\n            var self = this;\r\n            var p=this.customData.list;\r\n\r\n            p=p.filter(function (custom) {\r\n\r\n                if(self.searchCustom.text == custom.name || self.searchCustom.text == custom.phone){\r\n                    return custom;\r\n                }\r\n            });\r\n            return p;\r\n        }\r\n\r\n    },\r\n    watch: {\r\n        'searchItem.text': function (val) {\r\n            if(val){\r\n                this.searchItem.searching=true;\r\n\r\n            }\r\n            else{\r\n                this.searchItem.searching=false;\r\n            }\r\n            //从第一页开始找\r\n            this.pageCur=1;\r\n        },\r\n        'searchCustom.text': function (val) {\r\n            var self=this;\r\n            if(val){\r\n                this.searchCustom.searching=true;\r\n                this.customModal.code=301;\r\n                setTimeout(function(){\r\n                    $('#custom-layer').modal('hide');\r\n                    if(self.filteredCustomDataList!=\"\"){\r\n                        self.customData.curCustom=self.filteredCustomDataList[0];\r\n                        self.customModal.status='info';\r\n                        self.customModal.history='info';\r\n                        self.customModal.code=200;\r\n                    }else{\r\n                        self.customModal.status='normal';\r\n                        self.customModal.history='normal';\r\n                        self.customModal.code=404;\r\n                    }\r\n                },200);\r\n                setTimeout(function(){\r\n                    $('#custom-layer').modal('show');\r\n                },800);\r\n            }\r\n            else{\r\n                this.searchItem.searching=false;\r\n                this.customModal.status='normal';\r\n                this.customModal.history='normal';\r\n                this.customModal.code=0;\r\n            }\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        //获取导航列表\r\n        getNavList:function(){\r\n            var vm = this\r\n            vm.$http.get(vm.navData.apiUrl,{\r\n                params:{'cache':Math.random()},\r\n                headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n                emulateJSON:true\r\n            })\r\n                .then((response) => { //成功\r\n                    console.log(response.data);\r\n                    vm.$set('navData.list', response.data.data);\r\n                    vm.$set('navData.path', response.data.path);\r\n\r\n                })\r\n                .catch(function(response) { //失败\r\n                    //console.log(response);\r\n                    alert(\"读取导航失败\");\r\n                })\r\n        },\r\n        //获取会员列表\r\n        getCustomList:function(){\r\n            var vm = this\r\n            vm.$http.get(vm.customData.apiUrl,{\r\n                params:{'p':1},\r\n                headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n                emulateJSON:true\r\n            })\r\n                .then((response) => { //成功\r\n                    console.log(response.data);\r\n                    vm.$set('customData.list', response.data.data);\r\n\r\n\r\n                })\r\n                .catch(function(response) { //失败\r\n                    //console.log(response);\r\n                    alert(\"读取会员失败\");\r\n                })\r\n        },\r\n        //获取物品列表\r\n        getItemList:function(cid){\r\n\r\n            var vm = this\r\n            vm.$http.get(vm.itemData.apiUrl,{\r\n                params:{'category':cid},\r\n                headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n                emulateJSON:true\r\n            })\r\n                .then((response) => { //成功\r\n                    console.log(response.data);\r\n                    vm.$set('itemData.list', response.data.data);\r\n                    vm.$set('pageCur',1);\r\n                })\r\n                .catch(function(response) { //失败\r\n                    //console.log(response);\r\n                    alert(\"读取数据失败\");\r\n                })\r\n            // $.ajax({\r\n            // \turl: vm.itemData.apiUrl,\r\n            // \ttype: 'GET',\r\n            // \tdataType: 'json',\r\n            // \tdata: {'p': '1'},\r\n            // \tsuccess:function(json){\r\n            // console.log(json.length);\r\n            // \t\tvm.$set('itemData.list', json.data)\r\n            // \t},\r\n            // \terror:function(){\r\n            // \t\t alert(\"读取数据失败\");\r\n            // \t}\r\n            // })\r\n        },\r\n        //选择物品\r\n        openItem:function(index){\r\n\r\n            //layer.msg('hello');\r\n           //页面层\r\n\r\n\r\n           layer.open({\r\n                 id:'layui-layer4',\r\n                 type: 1,            //1 普通层\r\n                 shade: 0.01,  //遮罩\r\n                 anim:0,\r\n                 zIndex:1000,\r\n                 closeBtn: 2,\r\n                 title: false,\r\n                 area: ['600px', '480px'], //宽高\r\n                 content: $('#layerbox'),\r\n                 success:function(){\r\n                     //alert(\"新建立了！！\");\r\n                 },\r\n                 cancel: function(index){\r\n                    // if(confirm('确定要关闭么')){\r\n                    //     layer.close(index)\r\n                    //  }\r\n                    //  return false;\r\n                 },\r\n                 end:function(){\r\n                    // alert(\"销毁了\");\r\n                 }\r\n           });\r\n\r\n\r\n            this.itemData.newItem=this.filteredItemDataList[index];\r\n            this.itemData.index=index;\r\n\r\n        },\r\n        //放入购物车\r\n        pushCart: function () {\r\n            var index=this.itemData.index;\r\n            var item={};\r\n            item.id=this.itemData.list[index].id;\r\n            item.title=this.itemData.list[index].title;\r\n            item.boon=this.itemData.list[index].boon;\r\n            item.price=this.itemData.list[index].price;\r\n            item.imgurl=this.itemData.list[index].imgurl;\r\n            item.specs=this.itemData.list[index].specs;\r\n            item.amount=1;\r\n            item.selectDate=util.getSelectDate(); //自动获取选择日期\r\n            this.cartItem.list.push(item);\r\n        },\r\n        checkCartItem:function(ev,index){\r\n            this.cartItem.index=index;\r\n        },\r\n        settleAccounts:function(){\r\n            console.log(this.cartItem.list)\r\n\r\n            // ok.onclick=function(){\r\n\r\n            // \tsave()\r\n            // }\r\n\r\n            // out.onclick=function(){\r\n            // \t//localStorage.setItem(\"sss\",'{\"haha\":12}');\r\n            // \tvar str=localStorage.getItem(\"bbb\");\r\n            // \tstr =JSON.parse(str);\r\n            // \tconsole.log(str);\r\n            // }\r\n\r\n        },\r\n        //计算器\r\n        calc:function(keycode){\r\n            if(this.cartItem.list.length==0){return;}\r\n            var index=this.cartItem.index;\r\n\r\n            //选中的单价\r\n            var prcie=this.cartItem.list[index].price;\r\n            //选中的数量\r\n            var amount=this.cartItem.list[index].amount;\r\n\r\n            if(isNaN(keycode)){\r\n                switch (keycode) {\r\n                    case 'qrt': //resize\r\n                        this.cartItem.list[index].amount=1;\r\n                        break;\r\n                    case 'x':   //close\r\n                        var str=amount+\"\";\r\n                        amount=str.substring(0,str.length-1);\r\n                        if(amount==\"\"){\r\n                            this.cartItem.list.splice(index,1);\r\n                        }\r\n                        else{\r\n                            this.cartItem.list[index].amount=parseInt(amount);\r\n                        }\r\n                        break;\r\n                }\r\n            }else{\r\n\r\n                if(amount!=1){\r\n                    amount+=keycode+'';\r\n                }else{\r\n\r\n                    amount=keycode;\r\n                }\r\n\r\n\r\n                this.cartItem.list[index].amount=parseInt(amount);\r\n                console.log(this.cartItem.list);\r\n            }\r\n        },\r\n        //分页\r\n        filteredByPage:function(arr,limit){\r\n            this.pageTotal=Math.ceil(arr.length/limit);\r\n            return arr.slice((this.pageCur-1)*limit,(this.pageCur)*limit );\r\n        },\r\n        //页码点击事件\r\n        pageClick: function(page){\r\n            if(page != this.pageCur){\r\n                this.pageCur = page;\r\n                window.scrollTo(0,0);\r\n            }\r\n        },\r\n        getspecsClick:function(index){\r\n\r\n            return this.itemData.newItem.specs.index;\r\n\r\n        },\r\n        specsClick:function(index){\r\n\r\n            this.itemData.newItem.specs.index=index;\r\n\r\n        },\r\n        //增加用户\r\n        addNewCustom:function(){\r\n            if(this.customData.newCustom.name==\"\"){\r\n                alert(\"姓名不能为空\");\r\n                return false;\r\n            }\r\n            if(this.customData.newCustom.phone==\"\"){\r\n                alert(\"手机号不能为空\");\r\n                return false;\r\n            }\r\n\r\n            this.customData.list.push(this.customData.newCustom);\r\n\r\n            console.log(this.customData.list);\r\n        }\r\n\r\n\r\n    }\r\n}).$mount('#main');\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js"],"sourceRoot":""}